{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\player\\\\Documents\\\\GitHub\\\\synask-app\\\\src\\\\pages\\\\settings\\\\ProfileSettings.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { createClient } from '@supabase/supabase-js';\nimport './ProfileSettings.css';\nimport p from './ProfilePreview.module.css';\nimport load from '../Loader.module.css';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst supabase = createClient('https://cnicyffiqvdhgyzkogtl.supabase.co', 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImNuaWN5ZmZpcXZkaGd5emtvZ3RsIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MDc3NDM2NzcsImV4cCI6MjAyMzMxOTY3N30.bZoapdV-TJiq42uJaOPGBfPz91ULReQ1_ahXpUHNaJ8');\nconst ProfileSettings = () => {\n  _s();\n  const [subSection, setSubSection] = useState('about');\n  const [profile, setProfile] = useState(null);\n  const [editedProfile, setEditedProfile] = useState(null);\n  const [tags, setTags] = useState([]);\n  const [usernameAvailable, setUsernameAvailable] = useState(true);\n  const [isSaving, setIsSaving] = useState(false);\n  const [loading, setLoading] = useState(true);\n  const [showSaved, setShowSaved] = useState(true);\n  const [notification, setNotification] = useState('');\n  const [customStatus, setCustomStatus] = useState('');\n  useEffect(() => {\n    const fetchProfile = async () => {\n      try {\n        const {\n          data: userData,\n          error: userError\n        } = await supabase.auth.getUser();\n        if (userError || !userData) {\n          console.log('No active session found.');\n          window.location.href = '/login';\n          return;\n        }\n        let query = supabase.from('users_public_information').select('id, username, first_name, last_name, avatar_url, cover_url, status, tags').eq('auth_id', userData.user.id).single();\n        const {\n          data,\n          error\n        } = await query;\n        if (error) {\n          throw error;\n        }\n        setProfile(data);\n        setEditedProfile(data);\n        setTags(JSON.parse(data.tags || '[]'));\n      } catch (error) {\n        console.error('Error fetching user information:', error.message);\n      } finally {\n        setLoading(false);\n      }\n    };\n    fetchProfile();\n  }, []);\n  useEffect(() => {\n    setUsernameAvailable('check');\n    const timer = setTimeout(() => {\n      if (editedProfile && editedProfile.username !== profile.username) {\n        checkUsernameAvailability(editedProfile.username);\n      } else if (editedProfile) {\n        setUsernameAvailable(null);\n      }\n    }, 3000);\n    return () => clearTimeout(timer);\n  }, [editedProfile === null || editedProfile === void 0 ? void 0 : editedProfile.username]);\n  const renderStatus = status => {\n    if (status === 'online') {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: p.statusIndicator,\n        \"data-status\": status,\n        style: {\n          backgroundColor: 'green'\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 20\n      }, this);\n    } else if (status === 'offline') {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: p.statusIndicator,\n        \"data-status\": status,\n        style: {\n          backgroundColor: 'gray'\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 20\n      }, this);\n    } else if (status) {\n      const [symbol, userStatus] = status.split(':');\n      if (userStatus && symbol.length < 4) {\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: p.customStatusIndicator,\n          \"data-status\": userStatus,\n          children: symbol\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 21\n        }, this);\n      }\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: p.customStatusIndicator,\n        \"data-status\": status,\n        children: \"\\uD83D\\uDCAC\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 17\n      }, this);\n    } else {\n      return;\n    }\n  };\n  const checkUsernameAvailability = async username => {\n    const {\n      data,\n      error\n    } = await supabase.from('users_public_information').select('id').eq('username', username).single();\n    setUsernameAvailable(!data);\n  };\n  const handleChange = (field, value) => {\n    if (field === 'status' && value !== 'custom') {\n      setCustomStatus(false);\n      setEditedProfile({\n        ...editedProfile,\n        status: value\n      });\n    } else if (field === 'custom_status') {\n      setCustomStatus(value);\n      setEditedProfile({\n        ...editedProfile,\n        status: value\n      });\n    } else {\n      setEditedProfile({\n        ...editedProfile,\n        [field]: value\n      });\n    }\n  };\n  const handleTagInput = event => {\n    if (event.key === 'Enter' && event.target.value.trim() && tags.length < 5) {\n      const newTag = event.target.value.trim();\n      if (newTag.length <= 15 && tags.join('').length + newTag.length <= 60) {\n        setTags([...tags, newTag]);\n        event.target.value = '';\n      }\n    }\n  };\n  const removeTag = tagToRemove => {\n    setTags(tags.filter(tag => tag !== tagToRemove));\n  };\n  const handleSave = async () => {\n    setIsSaving(true);\n    setNotification('');\n    const updatedProfile = {\n      ...editedProfile,\n      status: customStatus || editedProfile.status,\n      tags: JSON.stringify(tags)\n    };\n    const {\n      data: userData,\n      error: userError\n    } = await supabase.auth.getUser();\n    if (userError || !userData) {\n      console.log('No active session found.');\n      window.location.href = '/login';\n      return;\n    }\n    const {\n      data,\n      error\n    } = await supabase.from('users_public_information').update(updatedProfile).eq('auth_id', userData.user.id);\n    if (error) {\n      setNotification('Ошибка сохранения данных в базу данных');\n      console.error('Error updating profile:', error.message);\n      return;\n    }\n    const {\n      dataUpdate,\n      errorUpdate\n    } = await supabase.auth.updateUser({\n      data: {\n        firstName: updatedProfile.first_name,\n        lastName: updatedProfile.last_name,\n        nickname: updatedProfile.username\n      }\n    });\n    if (errorUpdate) {\n      setNotification('Ошибка сохранения данных для пользователя');\n      console.error('Error updating profile:', error.message);\n    } else {\n      setProfile(updatedProfile);\n      setEditedProfile(updatedProfile);\n      setNotification('Данные успешно сохранены');\n      window.dispatchEvent(new Event('profileUpdated')); // Custom event for updating dependent components\n    }\n    setIsSaving(false);\n  };\n  const renderSubSection = () => {\n    switch (subSection) {\n      case 'about':\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"\\u041E \\u0441\\u0435\\u0431\\u0435\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 191,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"setting-item\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"\\u0421\\u0442\\u0430\\u0442\\u0443\\u0441:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 193,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              value: (editedProfile === null || editedProfile === void 0 ? void 0 : editedProfile.status) === 'online' || (editedProfile === null || editedProfile === void 0 ? void 0 : editedProfile.status) === 'offline' ? editedProfile === null || editedProfile === void 0 ? void 0 : editedProfile.status : 'custom',\n              onChange: e => {\n                const value = e.target.value;\n                if (value === 'custom') {\n                  handleChange('status', customStatus);\n                } else {\n                  handleChange('status', value);\n                }\n              },\n              className: profile.status !== editedProfile.status ? 'changed' : '',\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"online\",\n                children: \"\\u041E\\u043D\\u043B\\u0430\\u0439\\u043D\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 206,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"offline\",\n                children: \"\\u041E\\u0444\\u043B\\u0430\\u0439\\u043D\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 207,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"custom\",\n                children: \"\\u041F\\u043E\\u043B\\u044C\\u0437\\u043E\\u0432\\u0430\\u0442\\u0435\\u043B\\u044C\\u0441\\u043A\\u0438\\u0439 \\u0441\\u0442\\u0430\\u0442\\u0443\\u0441\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 208,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 194,\n              columnNumber: 29\n            }, this), (editedProfile === null || editedProfile === void 0 ? void 0 : editedProfile.status) != 'online' && (editedProfile === null || editedProfile === void 0 ? void 0 : editedProfile.status) != 'offline' && /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                value: customStatus || (editedProfile === null || editedProfile === void 0 ? void 0 : editedProfile.status) || '',\n                onChange: e => handleChange('custom_status', e.target.value),\n                placeholder: \"\\u0412\\u0432\\u0435\\u0434\\u0438\\u0442\\u0435 \\u0441\\u0432\\u043E\\u0439 \\u0441\\u0442\\u0430\\u0442\\u0443\\u0441\",\n                className: \"custom-status-input\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 212,\n                columnNumber: 37\n              }, this), (editedProfile === null || editedProfile === void 0 ? void 0 : editedProfile.custom_status) === '' && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"message\",\n                children: \"\\u041E\\u0441\\u0442\\u0430\\u0432\\u044C\\u0442\\u0435 \\u043F\\u043E\\u043B\\u0435 \\u043F\\u0443\\u0441\\u0442\\u044B\\u043C, \\u0435\\u0441\\u043B\\u0438 \\u0445\\u043E\\u0442\\u0438\\u0442\\u0435 \\u0443\\u0434\\u0430\\u043B\\u0438\\u0442\\u044C \\u0441\\u0442\\u0430\\u0442\\u0443\\u0441\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 220,\n                columnNumber: 41\n              }, this)]\n            }, void 0, true)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 192,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"setting-item\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"\\u0410\\u0432\\u0430\\u0442\\u0430\\u0440:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 228,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"url\",\n              value: (editedProfile === null || editedProfile === void 0 ? void 0 : editedProfile.avatar_url) || '',\n              onChange: e => handleChange('avatar_url', e.target.value),\n              placeholder: \"\\u0412\\u0432\\u0435\\u0434\\u0438\\u0442\\u0435 URL \\u0430\\u0432\\u0430\\u0442\\u0430\\u0440\\u0430\",\n              className: profile.avatar_url !== editedProfile.avatar_url ? 'changed' : ''\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 229,\n              columnNumber: 29\n            }, this), (editedProfile === null || editedProfile === void 0 ? void 0 : editedProfile.avatar_url) && /*#__PURE__*/_jsxDEV(\"div\", {\n              children: /*#__PURE__*/_jsxDEV(\"img\", {\n                src: editedProfile.avatar_url,\n                alt: \"Avatar Preview\",\n                onError: e => e.target.src = 'error_search-image.png',\n                onClick: () => alert('Не удалось получить изображение'),\n                style: {\n                  cursor: 'pointer',\n                  width: '50px',\n                  height: '50px'\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 238,\n                columnNumber: 37\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 237,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 227,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"setting-item\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"\\u041E\\u0431\\u043B\\u043E\\u0436\\u043A\\u0430:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 249,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"url\",\n              value: (editedProfile === null || editedProfile === void 0 ? void 0 : editedProfile.cover_url) || '',\n              onChange: e => handleChange('cover_url', e.target.value),\n              placeholder: \"\\u0412\\u0432\\u0435\\u0434\\u0438\\u0442\\u0435 URL \\u043E\\u0431\\u043B\\u043E\\u0436\\u043A\\u0438\",\n              className: profile.cover_url !== editedProfile.cover_url ? 'changed' : ''\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 250,\n              columnNumber: 29\n            }, this), (editedProfile === null || editedProfile === void 0 ? void 0 : editedProfile.cover_url) && /*#__PURE__*/_jsxDEV(\"div\", {\n              children: /*#__PURE__*/_jsxDEV(\"img\", {\n                src: editedProfile.cover_url,\n                alt: \"Cover Preview\",\n                onError: e => e.target.src = 'error_search-image.png',\n                onClick: () => alert('Не удалось получить изображение'),\n                style: {\n                  cursor: 'pointer',\n                  width: '50px',\n                  height: '50px'\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 259,\n                columnNumber: 37\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 258,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 248,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"setting-item\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"\\u0418\\u043C\\u044F:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 270,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              value: (editedProfile === null || editedProfile === void 0 ? void 0 : editedProfile.first_name) || '',\n              onChange: e => handleChange('first_name', e.target.value.trim()),\n              className: profile.first_name !== editedProfile.first_name ? 'changed' : ''\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 271,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 269,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"setting-item\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"\\u0424\\u0430\\u043C\\u0438\\u043B\\u0438\\u044F:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 279,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              value: (editedProfile === null || editedProfile === void 0 ? void 0 : editedProfile.last_name) || '',\n              onChange: e => handleChange('last_name', e.target.value.trim()),\n              className: profile.last_name !== editedProfile.last_name ? 'changed' : ''\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 280,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 278,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"setting-item\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"\\u0418\\u043C\\u044F \\u043F\\u043E\\u043B\\u044C\\u0437\\u043E\\u0432\\u0430\\u0442\\u0435\\u043B\\u044F:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 288,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              value: (editedProfile === null || editedProfile === void 0 ? void 0 : editedProfile.username) || '',\n              onChange: e => handleChange('username', e.target.value.trim()),\n              className: `${profile.username !== editedProfile.username ? 'changed' : ''} ${usernameAvailable === false ? 'unavailable' : ''}`\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 289,\n              columnNumber: 29\n            }, this), usernameAvailable === false && /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"username-error\",\n              children: \"\\u0418\\u043C\\u044F \\u043F\\u043E\\u043B\\u044C\\u0437\\u043E\\u0432\\u0430\\u0442\\u0435\\u043B\\u044F \\u043D\\u0435\\u0434\\u043E\\u0441\\u0442\\u0443\\u043F\\u043D\\u043E\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 296,\n              columnNumber: 33\n            }, this), usernameAvailable === 'check' && /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"username-check\",\n              children: \"\\u041F\\u0440\\u043E\\u0432\\u0435\\u0440\\u043A\\u0430 \\u0434\\u043E\\u0441\\u0442\\u0443\\u043F\\u043D\\u043E\\u0441\\u0442\\u0438 \\u0438\\u043C\\u0435\\u043D\\u0438 \\u043F\\u043E\\u043B\\u044C\\u0437\\u043E\\u0432\\u0430\\u0442\\u0435\\u043B\\u044F...\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 299,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 287,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"setting-item\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"\\u0422\\u0435\\u0433\\u0438:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 303,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              placeholder: \"\\u0412\\u0432\\u0435\\u0434\\u0438\\u0442\\u0435 \\u0442\\u0435\\u0433 \\u0438 \\u043D\\u0430\\u0436\\u043C\\u0438\\u0442\\u0435 Enter\",\n              onKeyUp: handleTagInput\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 304,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"tags\",\n              children: tags.map(tag => /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"tag\",\n                children: [tag, /*#__PURE__*/_jsxDEV(\"span\", {\n                  onClick: () => removeTag(tag),\n                  children: \"x\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 313,\n                  columnNumber: 41\n                }, this)]\n              }, tag, true, {\n                fileName: _jsxFileName,\n                lineNumber: 311,\n                columnNumber: 37\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 309,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 302,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"save-button\",\n            onClick: handleSave,\n            disabled: isSaving,\n            children: isSaving ? 'Сохранение...' : 'Сохранить'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 318,\n            columnNumber: 25\n          }, this), notification && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"notification\",\n            children: notification\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 321,\n            columnNumber: 42\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 190,\n          columnNumber: 21\n        }, this);\n      case 'media':\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"\\u041C\\u0435\\u0434\\u0438\\u0430\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 327,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"media-actions\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              children: \"\\u0414\\u043E\\u0431\\u0430\\u0432\\u0438\\u0442\\u044C \\u0444\\u043E\\u0442\\u043E/\\u0432\\u0438\\u0434\\u0435\\u043E\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 329,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              children: \"\\u0412\\u044B\\u0434\\u0435\\u043B\\u0438\\u0442\\u044C\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 330,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              placeholder: \"\\u041F\\u043E\\u0438\\u0441\\u043A \\u043F\\u043E \\u043E\\u043F\\u0438\\u0441\\u0430\\u043D\\u0438\\u044E\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 331,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 328,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"media-gallery\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 334,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 326,\n          columnNumber: 21\n        }, this);\n      case 'music':\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"\\u041C\\u0443\\u0437\\u044B\\u043A\\u0430\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 342,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"music-actions\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              children: \"\\u0414\\u043E\\u0431\\u0430\\u0432\\u0438\\u0442\\u044C \\u0442\\u0440\\u0435\\u043A\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 344,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              placeholder: \"\\u041F\\u043E\\u0438\\u0441\\u043A \\u043F\\u043E \\u043D\\u0430\\u0437\\u0432\\u0430\\u043D\\u0438\\u044E \\u0438\\u043B\\u0438 \\u0430\\u0440\\u0442\\u0438\\u0441\\u0442\\u0443\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 345,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 343,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"music-list\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 349,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 341,\n          columnNumber: 21\n        }, this);\n      case 'verification':\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"\\u0412\\u0435\\u0440\\u0438\\u0444\\u0438\\u043A\\u0430\\u0446\\u0438\\u044F\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 357,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"verification-service\",\n            children: [/*#__PURE__*/_jsxDEV(\"img\", {\n              src: \"https://cubiq.ru/wp-content/uploads/2020/09/twitchprime.jpg\",\n              className: \"service-icon\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 359,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"service-info\",\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                children: \"\\u041D\\u0438\\u043A\\u043D\\u0435\\u0439\\u043C: user123\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 361,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: \"\\u0424\\u043E\\u043B\\u043E\\u0432\\u0435\\u0440\\u044B: 12,000\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 362,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: \"\\u0422\\u0440\\u0435\\u0431\\u043E\\u0432\\u0430\\u043D\\u0438\\u044F:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 363,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n                children: [/*#__PURE__*/_jsxDEV(\"li\", {\n                  children: [\"10,000 \\u0444\\u043E\\u043B\\u043E\\u0432\\u0435\\u0440\\u043E\\u0432 \", /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: \"\\u2714\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 365,\n                    columnNumber: 58\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 365,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                  children: [\"\\u0421\\u0442\\u0440\\u0438\\u043C\\u044B \\u043A\\u0430\\u0436\\u0434\\u0443\\u044E \\u043D\\u0435\\u0434\\u0435\\u043B\\u044E \", /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: \"\\u2714\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 366,\n                    columnNumber: 62\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 366,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                  children: [\"\\u041F\\u0440\\u0438\\u0435\\u043C\\u043B\\u0435\\u043C\\u043E\\u0435 \\u043A\\u043E\\u043B\\u0438\\u0447\\u0435\\u0441\\u0442\\u0432\\u043E \\u043F\\u0440\\u043E\\u0441\\u043C\\u043E\\u0442\\u0440\\u043E\\u0432 \", /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: \"\\u2714\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 367,\n                    columnNumber: 74\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 367,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 364,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [\"\\u0412\\u044B \\u043C\\u0435\\u0434\\u0438\\u0439\\u043D\\u0430\\u044F \\u043B\\u0438\\u0447\\u043D\\u043E\\u0441\\u0442\\u044C \", /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"\\u2714\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 369,\n                  columnNumber: 57\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 369,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 360,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 358,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            children: \"\\u041F\\u043E\\u0434\\u043A\\u043B\\u044E\\u0447\\u0438\\u0442\\u044C \\u043D\\u043E\\u0432\\u044B\\u0439 \\u0441\\u0435\\u0440\\u0432\\u0438\\u0441\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 372,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 356,\n          columnNumber: 21\n        }, this);\n      default:\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          children: \"\\u041E \\u0441\\u0435\\u0431\\u0435\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 376,\n          columnNumber: 24\n        }, this);\n    }\n  };\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: load.spinner,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 383,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 384,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 385,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 382,\n      columnNumber: 13\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"\\u041C\\u043E\\u0439 \\u043F\\u0440\\u043E\\u0444\\u0438\\u043B\\u044C\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 392,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n      children: \"\\u041F\\u0440\\u0435\\u0434\\u043F\\u0440\\u043E\\u0441\\u043C\\u043E\\u0442\\u0440:\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 393,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"profile-preview\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: p.container,\n        children: (showSaved ? profile : editedProfile) && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: p.profileBlock,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: p.profileHeader,\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: p.profileCover,\n              children: /*#__PURE__*/_jsxDEV(\"img\", {\n                id: \"profile-cover\",\n                src: showSaved ? profile.cover_url : editedProfile.cover_url,\n                alt: \"Cover Photo\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 400,\n                columnNumber: 37\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 399,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: p.profileAvatar,\n              children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                id: \"profile-avatar\",\n                src: showSaved ? profile.avatar_url : editedProfile.avatar_url,\n                alt: \"User Photo\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 403,\n                columnNumber: 37\n              }, this), renderStatus(showSaved ? profile.status : editedProfile.status)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 402,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: p.profileInfo,\n              children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n                className: p.profileNames,\n                children: `${showSaved ? profile.first_name : editedProfile.first_name} ${showSaved ? profile.last_name : editedProfile.last_name}`\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 407,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: p.profileTags,\n                children: (showSaved ? JSON.parse(profile.tags || '[]') : tags).map(tag => /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: p.tag,\n                  children: tag\n                }, tag, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 408,\n                  columnNumber: 134\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 408,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 406,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 398,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: p.profileMenu,\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: p.menuItem,\n              children: \"About\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 412,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: p.menuItem,\n              children: \"Events\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 413,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: p.menuItem,\n              children: \"Media\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 414,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: p.menuItem,\n              children: \"Friends\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 415,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: p.menuItem,\n              children: \"Groups\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 416,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: p.menuItem,\n              children: \"Settings\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 417,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 411,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: p.profileContent\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 419,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 397,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 395,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 394,\n      columnNumber: 13\n    }, this), JSON.stringify(profile) !== JSON.stringify(editedProfile) && !showSaved && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"profile-buttons\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setShowSaved(!showSaved),\n        children: showSaved ? 'Показать изменённую версию' : 'Показать сохранённую версию'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 426,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleSave,\n        disabled: isSaving || usernameAvailable === false || usernameAvailable === 'check',\n        children: \"\\u0421\\u043E\\u0445\\u0440\\u0430\\u043D\\u0438\\u0442\\u044C \\u0438\\u0437\\u043C\\u0435\\u043D\\u0435\\u043D\\u0438\\u044F\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 429,\n        columnNumber: 21\n      }, this), notification && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"notification\",\n        children: notification\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 430,\n        columnNumber: 38\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 425,\n      columnNumber: 17\n    }, this), JSON.stringify(profile) !== JSON.stringify(editedProfile) && showSaved && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"profile-buttons\",\n      children: /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setShowSaved(!showSaved),\n        children: showSaved ? 'Показать изменённую версию' : 'Показать сохранённую версию'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 435,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 434,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"profile-submenu\",\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        className: subSection === 'about' ? 'active' : '',\n        onClick: () => setSubSection('about'),\n        children: \"\\u041E \\u0441\\u0435\\u0431\\u0435\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 441,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: subSection === 'media' ? 'active' : '',\n        onClick: () => setSubSection('media'),\n        children: \"\\u041C\\u0435\\u0434\\u0438\\u0430\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 442,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: subSection === 'music' ? 'active' : '',\n        onClick: () => setSubSection('music'),\n        children: \"\\u041C\\u0443\\u0437\\u044B\\u043A\\u0430\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 443,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: subSection === 'verification' ? 'active' : '',\n        onClick: () => setSubSection('verification'),\n        children: \"\\u0412\\u0435\\u0440\\u0438\\u0444\\u0438\\u043A\\u0430\\u0446\\u0438\\u044F\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 444,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 440,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"profile-settings-content\",\n      children: renderSubSection()\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 446,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 391,\n    columnNumber: 9\n  }, this);\n};\n_s(ProfileSettings, \"0seCubE5cwlHcnn/cFXSRTFi1bM=\");\n_c = ProfileSettings;\nexport default ProfileSettings;\nvar _c;\n$RefreshReg$(_c, \"ProfileSettings\");","map":{"version":3,"names":["React","useState","useEffect","createClient","p","load","jsxDEV","_jsxDEV","Fragment","_Fragment","supabase","ProfileSettings","_s","subSection","setSubSection","profile","setProfile","editedProfile","setEditedProfile","tags","setTags","usernameAvailable","setUsernameAvailable","isSaving","setIsSaving","loading","setLoading","showSaved","setShowSaved","notification","setNotification","customStatus","setCustomStatus","fetchProfile","data","userData","error","userError","auth","getUser","console","log","window","location","href","query","from","select","eq","user","id","single","JSON","parse","message","timer","setTimeout","username","checkUsernameAvailability","clearTimeout","renderStatus","status","className","statusIndicator","style","backgroundColor","fileName","_jsxFileName","lineNumber","columnNumber","symbol","userStatus","split","length","customStatusIndicator","children","handleChange","field","value","handleTagInput","event","key","target","trim","newTag","join","removeTag","tagToRemove","filter","tag","handleSave","updatedProfile","stringify","update","dataUpdate","errorUpdate","updateUser","firstName","first_name","lastName","last_name","nickname","dispatchEvent","Event","renderSubSection","onChange","e","type","placeholder","custom_status","avatar_url","src","alt","onError","onClick","alert","cursor","width","height","cover_url","onKeyUp","map","disabled","spinner","container","profileBlock","profileHeader","profileCover","profileAvatar","profileInfo","profileNames","profileTags","profileMenu","menuItem","profileContent","_c","$RefreshReg$"],"sources":["C:/Users/player/Documents/GitHub/synask-app/src/pages/settings/ProfileSettings.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { createClient } from '@supabase/supabase-js';\r\nimport './ProfileSettings.css';\r\nimport p from './ProfilePreview.module.css';\r\nimport load from '../Loader.module.css';\r\n\r\nconst supabase = createClient('https://cnicyffiqvdhgyzkogtl.supabase.co', 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImNuaWN5ZmZpcXZkaGd5emtvZ3RsIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MDc3NDM2NzcsImV4cCI6MjAyMzMxOTY3N30.bZoapdV-TJiq42uJaOPGBfPz91ULReQ1_ahXpUHNaJ8');\r\n\r\nconst ProfileSettings = () => {\r\n    const [subSection, setSubSection] = useState('about');\r\n    const [profile, setProfile] = useState(null);\r\n    const [editedProfile, setEditedProfile] = useState(null);\r\n    const [tags, setTags] = useState([]);\r\n    const [usernameAvailable, setUsernameAvailable] = useState(true);\r\n    const [isSaving, setIsSaving] = useState(false);\r\n    const [loading, setLoading] = useState(true);\r\n    const [showSaved, setShowSaved] = useState(true);\r\n    const [notification, setNotification] = useState('');\r\n    const [customStatus, setCustomStatus] = useState('');\r\n\r\n    useEffect(() => {\r\n        const fetchProfile = async () => {\r\n            try {\r\n                const { data: userData, error: userError } = await supabase.auth.getUser();\r\n                if (userError || !userData) {\r\n                    console.log('No active session found.');\r\n                    window.location.href = '/login';\r\n                    return;\r\n                }\r\n\r\n                let query = supabase\r\n                    .from('users_public_information')\r\n                    .select('id, username, first_name, last_name, avatar_url, cover_url, status, tags')\r\n                    .eq('auth_id', userData.user.id)\r\n                    .single();\r\n\r\n                const { data, error } = await query;\r\n                if (error) {\r\n                    throw error;\r\n                }\r\n\r\n                setProfile(data);\r\n                setEditedProfile(data);\r\n                setTags(JSON.parse(data.tags || '[]'));\r\n            } catch (error) {\r\n                console.error('Error fetching user information:', error.message);\r\n            } finally {\r\n                setLoading(false);\r\n            }\r\n        };\r\n\r\n        fetchProfile();\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        setUsernameAvailable('check');\r\n        const timer = setTimeout(() => {\r\n            if (editedProfile && editedProfile.username !== profile.username) {\r\n                checkUsernameAvailability(editedProfile.username);\r\n            } else if (editedProfile) {\r\n                setUsernameAvailable(null);\r\n            }\r\n        }, 3000);\r\n\r\n        return () => clearTimeout(timer);\r\n    }, [editedProfile?.username]);\r\n\r\n    const renderStatus = (status) => {\r\n        if (status === 'online') {\r\n            return <div className={p.statusIndicator} data-status={status} style={{ backgroundColor: 'green' }} />;\r\n        } else if (status === 'offline') {\r\n            return <div className={p.statusIndicator} data-status={status} style={{ backgroundColor: 'gray' }} />;\r\n        } else if (status) {\r\n            const [symbol, userStatus] = status.split(':');\r\n            if (userStatus && symbol.length < 4) {\r\n                return (\r\n                    <div className={p.customStatusIndicator} data-status={userStatus}>\r\n                        {symbol}\r\n                    </div>\r\n                );\r\n            }\r\n            return (\r\n                <div className={p.customStatusIndicator} data-status={status}>\r\n                    💬\r\n                </div>\r\n            );\r\n        } else {\r\n            return;\r\n        }\r\n    };\r\n\r\n    const checkUsernameAvailability = async (username) => {\r\n        const { data, error } = await supabase\r\n            .from('users_public_information')\r\n            .select('id')\r\n            .eq('username', username)\r\n            .single();\r\n\r\n        setUsernameAvailable(!data);\r\n    };\r\n\r\n    const handleChange = (field, value) => {\r\n        if (field === 'status' && value !== 'custom') {\r\n            setCustomStatus(false);\r\n            setEditedProfile({\r\n                ...editedProfile,\r\n                status: value,\r\n            });\r\n        } else if (field === 'custom_status') {\r\n            setCustomStatus(value);\r\n            setEditedProfile({\r\n                ...editedProfile,\r\n                status: value,\r\n            });\r\n        } else {\r\n            setEditedProfile({\r\n                ...editedProfile,\r\n                [field]: value,\r\n            });\r\n        }\r\n    };\r\n\r\n\r\n    const handleTagInput = (event) => {\r\n        if (event.key === 'Enter' && event.target.value.trim() && tags.length < 5) {\r\n            const newTag = event.target.value.trim();\r\n            if (newTag.length <= 15 && tags.join('').length + newTag.length <= 60) {\r\n                setTags([...tags, newTag]);\r\n                event.target.value = '';\r\n            }\r\n        }\r\n    };\r\n\r\n    const removeTag = (tagToRemove) => {\r\n        setTags(tags.filter(tag => tag !== tagToRemove));\r\n    };\r\n\r\n    const handleSave = async () => {\r\n        setIsSaving(true);\r\n        setNotification('');\r\n        const updatedProfile = {\r\n            ...editedProfile,\r\n            status: customStatus || editedProfile.status,\r\n            tags: JSON.stringify(tags),\r\n        };\r\n\r\n        const { data: userData, error: userError } = await supabase.auth.getUser();\r\n        if (userError || !userData) {\r\n            console.log('No active session found.');\r\n            window.location.href = '/login';\r\n            return;\r\n        }\r\n\r\n        const { data, error } = await supabase\r\n            .from('users_public_information')\r\n            .update(updatedProfile)\r\n            .eq('auth_id', userData.user.id);\r\n\r\n        if (error) {\r\n            setNotification('Ошибка сохранения данных в базу данных');\r\n            console.error('Error updating profile:', error.message);\r\n            return;\r\n        }\r\n\r\n        const { dataUpdate, errorUpdate} = await supabase.auth.updateUser({\r\n            data: {\r\n                firstName: updatedProfile.first_name,\r\n                lastName: updatedProfile.last_name,\r\n                nickname: updatedProfile.username,\r\n            }\r\n        })\r\n\r\n        if (errorUpdate) {\r\n            setNotification('Ошибка сохранения данных для пользователя');\r\n            console.error('Error updating profile:', error.message);\r\n        } else {\r\n            setProfile(updatedProfile);\r\n            setEditedProfile(updatedProfile);\r\n            setNotification('Данные успешно сохранены');\r\n            window.dispatchEvent(new Event('profileUpdated')); // Custom event for updating dependent components\r\n        }\r\n\r\n        setIsSaving(false);\r\n    };\r\n\r\n    const renderSubSection = () => {\r\n        switch (subSection) {\r\n            case 'about':\r\n                return (\r\n                    <div>\r\n                        <h3>О себе</h3>\r\n                        <div className=\"setting-item\">\r\n                            <label>Статус:</label>\r\n                            <select\r\n                                value={editedProfile?.status === 'online' || editedProfile?.status === 'offline' ? editedProfile?.status : 'custom'}\r\n                                onChange={(e) => {\r\n                                    const value = e.target.value;\r\n                                    if (value === 'custom') {\r\n                                        handleChange('status', customStatus);\r\n                                    } else {\r\n                                        handleChange('status', value);\r\n                                    }\r\n                                }}\r\n                                className={profile.status !== editedProfile.status ? 'changed' : ''}\r\n                            >\r\n                                <option value=\"online\">Онлайн</option>\r\n                                <option value=\"offline\">Офлайн</option>\r\n                                <option value=\"custom\">Пользовательский статус</option>\r\n                            </select>\r\n                            {editedProfile?.status != 'online' && editedProfile?.status != 'offline' && (\r\n                                <>\r\n                                    <input\r\n                                        type=\"text\"\r\n                                        value={customStatus || editedProfile?.status || ''}\r\n                                        onChange={(e) => handleChange('custom_status', e.target.value)}\r\n                                        placeholder=\"Введите свой статус\"\r\n                                        className=\"custom-status-input\"\r\n                                    />\r\n                                    {editedProfile?.custom_status === '' && (\r\n                                        <div className=\"message\">\r\n                                            Оставьте поле пустым, если хотите удалить статус\r\n                                        </div>\r\n                                    )}\r\n                                </>\r\n                            )}\r\n                        </div>\r\n                        <div className=\"setting-item\">\r\n                            <label>Аватар:</label>\r\n                            <input\r\n                                type=\"url\"\r\n                                value={editedProfile?.avatar_url || ''}\r\n                                onChange={(e) => handleChange('avatar_url', e.target.value)}\r\n                                placeholder=\"Введите URL аватара\"\r\n                                className={profile.avatar_url !== editedProfile.avatar_url ? 'changed' : ''}\r\n                            />\r\n                            {editedProfile?.avatar_url && (\r\n                                <div>\r\n                                    <img\r\n                                        src={editedProfile.avatar_url}\r\n                                        alt=\"Avatar Preview\"\r\n                                        onError={(e) => e.target.src = 'error_search-image.png'}\r\n                                        onClick={() => alert('Не удалось получить изображение')}\r\n                                        style={{ cursor: 'pointer', width: '50px', height: '50px' }}\r\n                                    />\r\n                                </div>\r\n                            )}\r\n                        </div>\r\n                        <div className=\"setting-item\">\r\n                            <label>Обложка:</label>\r\n                            <input\r\n                                type=\"url\"\r\n                                value={editedProfile?.cover_url || ''}\r\n                                onChange={(e) => handleChange('cover_url', e.target.value)}\r\n                                placeholder=\"Введите URL обложки\"\r\n                                className={profile.cover_url !== editedProfile.cover_url ? 'changed' : ''}\r\n                            />\r\n                            {editedProfile?.cover_url && (\r\n                                <div>\r\n                                    <img\r\n                                        src={editedProfile.cover_url}\r\n                                        alt=\"Cover Preview\"\r\n                                        onError={(e) => e.target.src = 'error_search-image.png'}\r\n                                        onClick={() => alert('Не удалось получить изображение')}\r\n                                        style={{ cursor: 'pointer', width: '50px', height: '50px' }}\r\n                                    />\r\n                                </div>\r\n                            )}\r\n                        </div>\r\n                        <div className=\"setting-item\">\r\n                            <label>Имя:</label>\r\n                            <input\r\n                                type=\"text\"\r\n                                value={editedProfile?.first_name || ''}\r\n                                onChange={(e) => handleChange('first_name', e.target.value.trim())}\r\n                                className={profile.first_name !== editedProfile.first_name ? 'changed' : ''}\r\n                            />\r\n                        </div>\r\n                        <div className=\"setting-item\">\r\n                            <label>Фамилия:</label>\r\n                            <input\r\n                                type=\"text\"\r\n                                value={editedProfile?.last_name || ''}\r\n                                onChange={(e) => handleChange('last_name', e.target.value.trim())}\r\n                                className={profile.last_name !== editedProfile.last_name ? 'changed' : ''}\r\n                            />\r\n                        </div>\r\n                        <div className=\"setting-item\">\r\n                            <label>Имя пользователя:</label>\r\n                            <input\r\n                                type=\"text\"\r\n                                value={editedProfile?.username || ''}\r\n                                onChange={(e) => handleChange('username', e.target.value.trim())}\r\n                                className={`${profile.username !== editedProfile.username ? 'changed' : ''} ${usernameAvailable === false ? 'unavailable' : ''}`}\r\n                            />\r\n                            {usernameAvailable === false && (\r\n                                <span className=\"username-error\">Имя пользователя недоступно</span>\r\n                            )}\r\n                            {usernameAvailable === 'check' && (\r\n                                <span className=\"username-check\">Проверка доступности имени пользователя...</span>\r\n                            )}\r\n                        </div>\r\n                        <div className=\"setting-item\">\r\n                            <label>Теги:</label>\r\n                            <input\r\n                                type=\"text\"\r\n                                placeholder=\"Введите тег и нажмите Enter\"\r\n                                onKeyUp={handleTagInput}\r\n                            />\r\n                            <div className=\"tags\">\r\n                                {tags.map(tag => (\r\n                                    <div key={tag} className=\"tag\">\r\n                                        {tag}\r\n                                        <span onClick={() => removeTag(tag)}>x</span>\r\n                                    </div>\r\n                                ))}\r\n                            </div>\r\n                        </div>\r\n                        <button className=\"save-button\" onClick={handleSave} disabled={isSaving}>\r\n                            {isSaving ? 'Сохранение...' : 'Сохранить'}\r\n                        </button>\r\n                        {notification && <div className=\"notification\">{notification}</div>}\r\n                    </div>\r\n                );\r\n            case 'media':\r\n                return (\r\n                    <div>\r\n                        <h3>Медиа</h3>\r\n                        <div className=\"media-actions\">\r\n                            <button>Добавить фото/видео</button>\r\n                            <button>Выделить</button>\r\n                            <input type=\"text\" placeholder=\"Поиск по описанию\" />\r\n                            {/* другие действия */}\r\n                        </div>\r\n                        <div className=\"media-gallery\">\r\n                            {/* Галерея фото/видео */}\r\n                        </div>\r\n                    </div>\r\n                );\r\n            case 'music':\r\n                return (\r\n                    <div>\r\n                        <h3>Музыка</h3>\r\n                        <div className=\"music-actions\">\r\n                            <button>Добавить трек</button>\r\n                            <input type=\"text\" placeholder=\"Поиск по названию или артисту\"\r\n                            />\r\n                            {/* другие действия */}\r\n                        </div>\r\n                        <div className=\"music-list\">\r\n                            {/* Список треков */}\r\n                        </div>\r\n                    </div>\r\n                );\r\n            case 'verification':\r\n                return (\r\n                    <div>\r\n                        <h3>Верификация</h3>\r\n                        <div className=\"verification-service\">\r\n                            <img src=\"https://cubiq.ru/wp-content/uploads/2020/09/twitchprime.jpg\" className=\"service-icon\" />\r\n                            <div className=\"service-info\">\r\n                                <p>Никнейм: user123</p>\r\n                                <p>Фоловеры: 12,000</p>\r\n                                <p>Требования:</p>\r\n                                <ul>\r\n                                    <li>10,000 фоловеров <span>✔</span></li>\r\n                                    <li>Стримы каждую неделю <span>✔</span></li>\r\n                                    <li>Приемлемое количество просмотров <span>✔</span></li>\r\n                                </ul>\r\n                                <p>Вы медийная личность <span>✔</span></p>\r\n                            </div>\r\n                        </div>\r\n                        <button>Подключить новый сервис</button>\r\n                    </div>\r\n                );\r\n            default:\r\n                return <div>О себе</div>;\r\n        }\r\n    };\r\n\r\n    if (loading) {\r\n        return (\r\n            <div className={load.spinner}>\r\n                <div></div>\r\n                <div></div>\r\n                <div></div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <h2>Мой профиль</h2>\r\n            <label>Предпросмотр:</label>\r\n            <div className=\"profile-preview\">\r\n                <div className={p.container}>\r\n                    {(showSaved ? profile : editedProfile) && (\r\n                        <div className={p.profileBlock}>\r\n                            <div className={p.profileHeader}>\r\n                                <div className={p.profileCover}>\r\n                                    <img id=\"profile-cover\" src={showSaved ? profile.cover_url : editedProfile.cover_url} alt=\"Cover Photo\" />\r\n                                </div>\r\n                                <div className={p.profileAvatar}>\r\n                                    <img id=\"profile-avatar\" src={showSaved ? profile.avatar_url : editedProfile.avatar_url} alt=\"User Photo\" />\r\n                                    {renderStatus(showSaved ? profile.status : editedProfile.status)}\r\n                                </div>\r\n                                <div className={p.profileInfo}>\r\n                                    <h2 className={p.profileNames}>{`${showSaved ? profile.first_name : editedProfile.first_name} ${showSaved ? profile.last_name : editedProfile.last_name}`}</h2>\r\n                                    <div className={p.profileTags}>{(showSaved ? JSON.parse(profile.tags || '[]') : tags).map(tag => <span key={tag} className={p.tag}>{tag}</span>)}</div>\r\n                                </div>\r\n                            </div>\r\n                            <div className={p.profileMenu}>\r\n                                <div className={p.menuItem}>About</div>\r\n                                <div className={p.menuItem}>Events</div>\r\n                                <div className={p.menuItem}>Media</div>\r\n                                <div className={p.menuItem}>Friends</div>\r\n                                <div className={p.menuItem}>Groups</div>\r\n                                <div className={p.menuItem}>Settings</div>\r\n                            </div>\r\n                            <div className={p.profileContent}></div>\r\n                        </div>\r\n                    )}\r\n                </div>\r\n            </div>\r\n            {JSON.stringify(profile) !== JSON.stringify(editedProfile) && !showSaved && (\r\n                <div className=\"profile-buttons\">\r\n                    <button onClick={() => setShowSaved(!showSaved)}>\r\n                        {showSaved ? 'Показать изменённую версию' : 'Показать сохранённую версию'}\r\n                    </button>\r\n                    <button onClick={handleSave} disabled={isSaving || usernameAvailable === false || usernameAvailable === 'check'}>Сохранить изменения</button>\r\n                    {notification && <div className=\"notification\">{notification}</div>}\r\n                </div>\r\n            )}\r\n            {JSON.stringify(profile) !== JSON.stringify(editedProfile) && showSaved && (\r\n                <div className=\"profile-buttons\">\r\n                    <button onClick={() => setShowSaved(!showSaved)}>\r\n                        {showSaved ? 'Показать изменённую версию' : 'Показать сохранённую версию'}\r\n                    </button>\r\n                </div>\r\n            )}\r\n            <div className=\"profile-submenu\">\r\n                <span className={subSection === 'about' ? 'active' : ''} onClick={() => setSubSection('about')}>О себе</span>\r\n                <span className={subSection === 'media' ? 'active' : ''} onClick={() => setSubSection('media')}>Медиа</span>\r\n                <span className={subSection === 'music' ? 'active' : ''} onClick={() => setSubSection('music')}>Музыка</span>\r\n                <span className={subSection === 'verification' ? 'active' : ''} onClick={() => setSubSection('verification')}>Верификация</span>\r\n            </div>\r\n            <div className=\"profile-settings-content\">\r\n                {renderSubSection()}\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default ProfileSettings;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}