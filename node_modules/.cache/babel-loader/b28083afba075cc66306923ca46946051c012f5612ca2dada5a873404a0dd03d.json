{"ast":null,"code":"// App.js (внутри Music)\nimport React,{useState,useEffect,useContext}from'react';import axios from'axios';import SearchBar from'./SearchBar';import TrackList from'./TrackList';import'./App.css';import Header from'../../components/Header';import{useTrack}from'./TrackContext';// Импортируйте useTrack\nimport AccentColorContext from'../settings/AccentColorContext';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const App=()=>{const[tracks,setTracks]=useState([]);const[currentTrackIndex,setCurrentTrackIndex]=useState(null);const{setTrack}=useTrack();// Получите функцию для обновления трека\nconst{accentColor}=useContext(AccentColorContext);const handleSearch=async query=>{try{const response=await axios.get(\"https://www.googleapis.com/youtube/v3/search\",{params:{part:'snippet',q:query,type:'video',videoCategoryId:'10',key:'AIzaSyCNaJfGAy9a8LlB8B_A3jSRlNxpq4jsCAI'}});setTracks(response.data.items);setCurrentTrackIndex(null);}catch(error){console.error('Error fetching data from YouTube API',error);}};const handlePlay=index=>{setCurrentTrackIndex(index);const videoId=tracks[index].id.videoId;const title=tracks[index].snippet.title;const artist=tracks[index].snippet.channelTitle;setTrack({videoId,title,artist});// Обновите трек\n};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"App\",style:{borderColor:accentColor},children:[/*#__PURE__*/_jsx(\"h1\",{children:\"sYnAsk Music Player\"}),/*#__PURE__*/_jsx(SearchBar,{onSearch:handleSearch}),/*#__PURE__*/_jsx(TrackList,{tracks:tracks,onPlay:handlePlay})]}),/*#__PURE__*/_jsx(\"p\",{className:\"sp\",children:\"\\u041E\\u0441\\u043D\\u043E\\u0432\\u0430\\u043D\\u043E \\u043D\\u0430 \\u0438\\u043D\\u0441\\u0442\\u0440\\u0443\\u043C\\u0435\\u043D\\u0442\\u0430\\u0445 api youtube.com\"})]});};export default App;","map":{"version":3,"names":["React","useState","useEffect","useContext","axios","SearchBar","TrackList","Header","useTrack","AccentColorContext","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","App","tracks","setTracks","currentTrackIndex","setCurrentTrackIndex","setTrack","accentColor","handleSearch","query","response","get","params","part","q","type","videoCategoryId","key","data","items","error","console","handlePlay","index","videoId","id","title","snippet","artist","channelTitle","children","className","style","borderColor","onSearch","onPlay"],"sources":["C:/Users/player/Documents/GitHub/synask-app/src/pages/music/App.js"],"sourcesContent":["// App.js (внутри Music)\r\nimport React, { useState, useEffect, useContext } from 'react';\r\nimport axios from 'axios';\r\nimport SearchBar from './SearchBar';\r\nimport TrackList from './TrackList';\r\nimport './App.css';\r\nimport Header from '../../components/Header';\r\nimport { useTrack } from './TrackContext'; // Импортируйте useTrack\r\nimport AccentColorContext from '../settings/AccentColorContext';\r\n\r\nconst App = () => {\r\n    const [tracks, setTracks] = useState([]);\r\n    const [currentTrackIndex, setCurrentTrackIndex] = useState(null);\r\n    const { setTrack } = useTrack(); // Получите функцию для обновления трека\r\n    const { accentColor } = useContext(AccentColorContext);\r\n\r\n\r\n    const handleSearch = async (query) => {\r\n        try {\r\n            const response = await axios.get(`https://www.googleapis.com/youtube/v3/search`, {\r\n                params: {\r\n                    part: 'snippet',\r\n                    q: query,\r\n                    type: 'video',\r\n                    videoCategoryId: '10',\r\n                    key: 'AIzaSyCNaJfGAy9a8LlB8B_A3jSRlNxpq4jsCAI'\r\n                }\r\n            });\r\n            setTracks(response.data.items);\r\n            setCurrentTrackIndex(null);\r\n        } catch (error) {\r\n            console.error('Error fetching data from YouTube API', error);\r\n        }\r\n    };\r\n\r\n    const handlePlay = (index) => {\r\n        setCurrentTrackIndex(index);\r\n        const videoId = tracks[index].id.videoId;\r\n        const title = tracks[index].snippet.title;\r\n        const artist = tracks[index].snippet.channelTitle;\r\n        setTrack({ videoId, title, artist }); // Обновите трек\r\n    };\r\n\r\n    return (\r\n        <>\r\n            <div className=\"App\" style={{ borderColor: accentColor }}>\r\n                <h1>sYnAsk Music Player</h1>\r\n                <SearchBar onSearch={handleSearch} />\r\n                <TrackList tracks={tracks} onPlay={handlePlay} />\r\n            </div>\r\n            <p className=\"sp\">Основано на инструментах api youtube.com</p>\r\n        </>\r\n    );\r\n};\r\n\r\nexport default App;\r\n"],"mappings":"AAAA;AACA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,CAAEC,UAAU,KAAQ,OAAO,CAC9D,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,MAAO,CAAAC,SAAS,KAAM,aAAa,CACnC,MAAO,CAAAC,SAAS,KAAM,aAAa,CACnC,MAAO,WAAW,CAClB,MAAO,CAAAC,MAAM,KAAM,yBAAyB,CAC5C,OAASC,QAAQ,KAAQ,gBAAgB,CAAE;AAC3C,MAAO,CAAAC,kBAAkB,KAAM,gCAAgC,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,CAAAC,QAAA,IAAAC,SAAA,yBAEhE,KAAM,CAAAC,GAAG,CAAGA,CAAA,GAAM,CACd,KAAM,CAACC,MAAM,CAAEC,SAAS,CAAC,CAAGjB,QAAQ,CAAC,EAAE,CAAC,CACxC,KAAM,CAACkB,iBAAiB,CAAEC,oBAAoB,CAAC,CAAGnB,QAAQ,CAAC,IAAI,CAAC,CAChE,KAAM,CAAEoB,QAAS,CAAC,CAAGb,QAAQ,CAAC,CAAC,CAAE;AACjC,KAAM,CAAEc,WAAY,CAAC,CAAGnB,UAAU,CAACM,kBAAkB,CAAC,CAGtD,KAAM,CAAAc,YAAY,CAAG,KAAO,CAAAC,KAAK,EAAK,CAClC,GAAI,CACA,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAArB,KAAK,CAACsB,GAAG,gDAAiD,CAC7EC,MAAM,CAAE,CACJC,IAAI,CAAE,SAAS,CACfC,CAAC,CAAEL,KAAK,CACRM,IAAI,CAAE,OAAO,CACbC,eAAe,CAAE,IAAI,CACrBC,GAAG,CAAE,yCACT,CACJ,CAAC,CAAC,CACFd,SAAS,CAACO,QAAQ,CAACQ,IAAI,CAACC,KAAK,CAAC,CAC9Bd,oBAAoB,CAAC,IAAI,CAAC,CAC9B,CAAE,MAAOe,KAAK,CAAE,CACZC,OAAO,CAACD,KAAK,CAAC,sCAAsC,CAAEA,KAAK,CAAC,CAChE,CACJ,CAAC,CAED,KAAM,CAAAE,UAAU,CAAIC,KAAK,EAAK,CAC1BlB,oBAAoB,CAACkB,KAAK,CAAC,CAC3B,KAAM,CAAAC,OAAO,CAAGtB,MAAM,CAACqB,KAAK,CAAC,CAACE,EAAE,CAACD,OAAO,CACxC,KAAM,CAAAE,KAAK,CAAGxB,MAAM,CAACqB,KAAK,CAAC,CAACI,OAAO,CAACD,KAAK,CACzC,KAAM,CAAAE,MAAM,CAAG1B,MAAM,CAACqB,KAAK,CAAC,CAACI,OAAO,CAACE,YAAY,CACjDvB,QAAQ,CAAC,CAAEkB,OAAO,CAAEE,KAAK,CAAEE,MAAO,CAAC,CAAC,CAAE;AAC1C,CAAC,CAED,mBACI9B,KAAA,CAAAE,SAAA,EAAA8B,QAAA,eACIhC,KAAA,QAAKiC,SAAS,CAAC,KAAK,CAACC,KAAK,CAAE,CAAEC,WAAW,CAAE1B,WAAY,CAAE,CAAAuB,QAAA,eACrDlC,IAAA,OAAAkC,QAAA,CAAI,qBAAmB,CAAI,CAAC,cAC5BlC,IAAA,CAACN,SAAS,EAAC4C,QAAQ,CAAE1B,YAAa,CAAE,CAAC,cACrCZ,IAAA,CAACL,SAAS,EAACW,MAAM,CAAEA,MAAO,CAACiC,MAAM,CAAEb,UAAW,CAAE,CAAC,EAChD,CAAC,cACN1B,IAAA,MAAGmC,SAAS,CAAC,IAAI,CAAAD,QAAA,CAAC,wJAAwC,CAAG,CAAC,EAChE,CAAC,CAEX,CAAC,CAED,cAAe,CAAA7B,GAAG","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}