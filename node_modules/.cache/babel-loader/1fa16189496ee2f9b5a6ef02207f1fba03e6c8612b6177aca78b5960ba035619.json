{"ast":null,"code":"import { Bridge } from '../bridge/bridge.js';\nimport { BridgeEvents } from '../bridge/types.js';\nimport { Dispatcher } from '../dispatcher/dispatcher.js';\nimport { validator } from '../validator/validator.js';\nimport { isRequired } from '../validator/rules.js';\nimport { generateCodeChallenge } from '../../utils/oauth.js';\nimport { getVKIDUrl, getRedirectWithPayloadUrl } from '../../utils/url.js';\nimport { uuid } from '../../utils/uuid.js';\nimport { WIDGET_ERROR_TEXT } from './constants.js';\nimport { WidgetEvents } from './events.js';\nimport { getWidgetTemplate } from './template.js';\nimport { WidgetState, WidgetErrorCode } from './types.js';\nfunction _ts_decorate(decorators, target, key, desc) {\n  var c = arguments.length,\n    r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n    d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n}\nconst MODULE_LOAD_TIMEOUT = 5000;\nconst MODULE_CHANGE_STATE_TIMEOUT = 300;\nconst CODE_CHALLENGE_METHOD = 's256';\nclass Widget extends Dispatcher {\n  /**\n  * @ignore\n  */\n  static __config;\n  /**\n  * @ignore\n  */\n  static __auth;\n  id = uuid();\n  lang;\n  scheme;\n  vkidAppName = '';\n  config;\n  timeoutTimer;\n  bridge;\n  container;\n  templateRenderer = getWidgetTemplate;\n  elements;\n  constructor() {\n    super();\n    this.config = Widget.__config;\n  }\n  render(params) {\n    const {\n      container,\n      ...otherParams\n    } = params;\n    this.container = container;\n    this.renderTemplate();\n    this.registerElements();\n    this.loadWidgetFrame(otherParams);\n    return this;\n  }\n  close() {\n    clearTimeout(this.timeoutTimer);\n    this.elements?.root?.remove();\n    this.bridge?.destroy();\n    this.events.emit(WidgetEvents.CLOSE);\n  }\n  show() {\n    if (this.elements.root) {\n      this.elements.root.style.display = 'block';\n      this.events.emit(WidgetEvents.SHOW);\n    }\n    return this;\n  }\n  hide() {\n    if (this.elements.root) {\n      this.elements.root.style.display = 'none';\n      this.events.emit(WidgetEvents.HIDE);\n    }\n    return this;\n  }\n  /**\n  * Метод вызывается перед началом загрузки iframe с VK ID приложением\n  */\n  onStartLoadHandler() {\n    this.setState(WidgetState.LOADING);\n    this.timeoutTimer = setTimeout(() => {\n      this.onErrorHandler({\n        code: WidgetErrorCode.TimeoutExceeded,\n        text: WIDGET_ERROR_TEXT[WidgetErrorCode.TimeoutExceeded]\n      });\n    }, MODULE_LOAD_TIMEOUT);\n    this.events.emit(WidgetEvents.START_LOAD);\n  }\n  /**\n  * Метод вызывается после того, как полностью загружен iframe с VK ID приложением\n  */\n  onLoadHandler() {\n    clearTimeout(this.timeoutTimer);\n    setTimeout(() => {\n      // Задержка избавляет от моргания замены шаблона на iframe\n      this.setState(WidgetState.LOADED);\n    }, MODULE_CHANGE_STATE_TIMEOUT);\n    this.events.emit(WidgetEvents.LOAD);\n  }\n  /**\n  * Метод вызывается, когда во время работы/загрузки VK ID приложения произошла ошибка\n  */\n  onErrorHandler(error) {\n    clearTimeout(this.timeoutTimer);\n    this.setState(WidgetState.NOT_LOADED);\n    this.events.emit(WidgetEvents.ERROR, error);\n    this.elements?.iframe?.remove();\n  }\n  /**\n  * Метод вызывается при сообщениях от VK ID приложения\n  */\n  onBridgeMessageHandler(event) {\n    switch (event.handler) {\n      case WidgetEvents.LOAD:\n        {\n          this.onLoadHandler();\n          break;\n        }\n      case WidgetEvents.CLOSE:\n        {\n          this.close();\n          break;\n        }\n      case WidgetEvents.ERROR:\n        {\n          this.onErrorHandler({\n            code: WidgetErrorCode.InternalError,\n            text: WIDGET_ERROR_TEXT[WidgetErrorCode.InternalError],\n            details: event.params\n          });\n          break;\n        }\n      case WidgetEvents.RESIZE:\n        {\n          this.elements.root.style.height = `${event.params.height}px`;\n          break;\n        }\n    }\n  }\n  // <Дополнительные хелперы>\n  renderTemplate() {\n    this.container.insertAdjacentHTML('beforeend', this.templateRenderer(this.id));\n  }\n  loadWidgetFrame(params) {\n    this.onStartLoadHandler();\n    this.bridge = new Bridge({\n      iframe: this.elements.iframe,\n      origin: `https://${this.config.get().__vkidDomain}`\n    });\n    this.bridge.on(BridgeEvents.MESSAGE, event => this.onBridgeMessageHandler(event));\n    this.elements.iframe.src = this.getWidgetFrameSrc(this.config.get(), params);\n  }\n  getWidgetFrameSrc(config, params) {\n    const queryParams = {\n      ...params,\n      code_challenge: generateCodeChallenge(),\n      code_challenge_method: CODE_CHALLENGE_METHOD,\n      origin: location.protocol + '//' + location.host\n    };\n    return getVKIDUrl(this.vkidAppName, queryParams, config);\n  }\n  setState(state) {\n    this.elements.root.setAttribute('data-state', state);\n  }\n  registerElements() {\n    const root = document.getElementById(this.id);\n    this.elements = {\n      root,\n      iframe: root.querySelector('iframe')\n    };\n  }\n  // TODO: добавить типы\n  redirectWithPayload(payload) {\n    location.assign(getRedirectWithPayloadUrl(payload, Widget.__config));\n  }\n}\n_ts_decorate([validator({\n  container: [isRequired]\n})], Widget.prototype, \"render\", null);\nexport { Widget };","map":{"version":3,"names":["Bridge","BridgeEvents","Dispatcher","validator","isRequired","generateCodeChallenge","getVKIDUrl","getRedirectWithPayloadUrl","uuid","WIDGET_ERROR_TEXT","WidgetEvents","getWidgetTemplate","WidgetState","WidgetErrorCode","_ts_decorate","decorators","target","key","desc","c","arguments","length","r","Object","getOwnPropertyDescriptor","d","Reflect","decorate","i","defineProperty","MODULE_LOAD_TIMEOUT","MODULE_CHANGE_STATE_TIMEOUT","CODE_CHALLENGE_METHOD","Widget","__config","__auth","id","lang","scheme","vkidAppName","config","timeoutTimer","bridge","container","templateRenderer","elements","constructor","render","params","otherParams","renderTemplate","registerElements","loadWidgetFrame","close","clearTimeout","root","remove","destroy","events","emit","CLOSE","show","style","display","SHOW","hide","HIDE","onStartLoadHandler","setState","LOADING","setTimeout","onErrorHandler","code","TimeoutExceeded","text","START_LOAD","onLoadHandler","LOADED","LOAD","error","NOT_LOADED","ERROR","iframe","onBridgeMessageHandler","event","handler","InternalError","details","RESIZE","height","insertAdjacentHTML","origin","get","__vkidDomain","on","MESSAGE","src","getWidgetFrameSrc","queryParams","code_challenge","code_challenge_method","location","protocol","host","state","setAttribute","document","getElementById","querySelector","redirectWithPayload","payload","assign","prototype"],"sources":["C:/Users/player/Documents/GitHub/synask-app/node_modules/@vkid/sdk/dist-sdk/esm/core/widget/widget.js"],"sourcesContent":["import { Bridge } from '../bridge/bridge.js';\nimport { BridgeEvents } from '../bridge/types.js';\nimport { Dispatcher } from '../dispatcher/dispatcher.js';\nimport { validator } from '../validator/validator.js';\nimport { isRequired } from '../validator/rules.js';\nimport { generateCodeChallenge } from '../../utils/oauth.js';\nimport { getVKIDUrl, getRedirectWithPayloadUrl } from '../../utils/url.js';\nimport { uuid } from '../../utils/uuid.js';\nimport { WIDGET_ERROR_TEXT } from './constants.js';\nimport { WidgetEvents } from './events.js';\nimport { getWidgetTemplate } from './template.js';\nimport { WidgetState, WidgetErrorCode } from './types.js';\n\nfunction _ts_decorate(decorators, target, key, desc) {\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n    else for(var i = decorators.length - 1; i >= 0; i--)if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\n}\nconst MODULE_LOAD_TIMEOUT = 5000;\nconst MODULE_CHANGE_STATE_TIMEOUT = 300;\nconst CODE_CHALLENGE_METHOD = 's256';\nclass Widget extends Dispatcher {\n    /**\n   * @ignore\n   */ static __config;\n    /**\n   * @ignore\n   */ static __auth;\n    id = uuid();\n    lang;\n    scheme;\n    vkidAppName = '';\n    config;\n    timeoutTimer;\n    bridge;\n    container;\n    templateRenderer = getWidgetTemplate;\n    elements;\n    constructor(){\n        super();\n        this.config = Widget.__config;\n    }\n    render(params) {\n        const { container, ...otherParams } = params;\n        this.container = container;\n        this.renderTemplate();\n        this.registerElements();\n        this.loadWidgetFrame(otherParams);\n        return this;\n    }\n    close() {\n        clearTimeout(this.timeoutTimer);\n        this.elements?.root?.remove();\n        this.bridge?.destroy();\n        this.events.emit(WidgetEvents.CLOSE);\n    }\n    show() {\n        if (this.elements.root) {\n            this.elements.root.style.display = 'block';\n            this.events.emit(WidgetEvents.SHOW);\n        }\n        return this;\n    }\n    hide() {\n        if (this.elements.root) {\n            this.elements.root.style.display = 'none';\n            this.events.emit(WidgetEvents.HIDE);\n        }\n        return this;\n    }\n    /**\n   * Метод вызывается перед началом загрузки iframe с VK ID приложением\n   */ onStartLoadHandler() {\n        this.setState(WidgetState.LOADING);\n        this.timeoutTimer = setTimeout(()=>{\n            this.onErrorHandler({\n                code: WidgetErrorCode.TimeoutExceeded,\n                text: WIDGET_ERROR_TEXT[WidgetErrorCode.TimeoutExceeded]\n            });\n        }, MODULE_LOAD_TIMEOUT);\n        this.events.emit(WidgetEvents.START_LOAD);\n    }\n    /**\n   * Метод вызывается после того, как полностью загружен iframe с VK ID приложением\n   */ onLoadHandler() {\n        clearTimeout(this.timeoutTimer);\n        setTimeout(()=>{\n            // Задержка избавляет от моргания замены шаблона на iframe\n            this.setState(WidgetState.LOADED);\n        }, MODULE_CHANGE_STATE_TIMEOUT);\n        this.events.emit(WidgetEvents.LOAD);\n    }\n    /**\n   * Метод вызывается, когда во время работы/загрузки VK ID приложения произошла ошибка\n   */ onErrorHandler(error) {\n        clearTimeout(this.timeoutTimer);\n        this.setState(WidgetState.NOT_LOADED);\n        this.events.emit(WidgetEvents.ERROR, error);\n        this.elements?.iframe?.remove();\n    }\n    /**\n   * Метод вызывается при сообщениях от VK ID приложения\n   */ onBridgeMessageHandler(event) {\n        switch(event.handler){\n            case WidgetEvents.LOAD:\n                {\n                    this.onLoadHandler();\n                    break;\n                }\n            case WidgetEvents.CLOSE:\n                {\n                    this.close();\n                    break;\n                }\n            case WidgetEvents.ERROR:\n                {\n                    this.onErrorHandler({\n                        code: WidgetErrorCode.InternalError,\n                        text: WIDGET_ERROR_TEXT[WidgetErrorCode.InternalError],\n                        details: event.params\n                    });\n                    break;\n                }\n            case WidgetEvents.RESIZE:\n                {\n                    this.elements.root.style.height = `${event.params.height}px`;\n                    break;\n                }\n        }\n    }\n    // <Дополнительные хелперы>\n    renderTemplate() {\n        this.container.insertAdjacentHTML('beforeend', this.templateRenderer(this.id));\n    }\n    loadWidgetFrame(params) {\n        this.onStartLoadHandler();\n        this.bridge = new Bridge({\n            iframe: this.elements.iframe,\n            origin: `https://${this.config.get().__vkidDomain}`\n        });\n        this.bridge.on(BridgeEvents.MESSAGE, (event)=>this.onBridgeMessageHandler(event));\n        this.elements.iframe.src = this.getWidgetFrameSrc(this.config.get(), params);\n    }\n    getWidgetFrameSrc(config, params) {\n        const queryParams = {\n            ...params,\n            code_challenge: generateCodeChallenge(),\n            code_challenge_method: CODE_CHALLENGE_METHOD,\n            origin: location.protocol + '//' + location.host\n        };\n        return getVKIDUrl(this.vkidAppName, queryParams, config);\n    }\n    setState(state) {\n        this.elements.root.setAttribute('data-state', state);\n    }\n    registerElements() {\n        const root = document.getElementById(this.id);\n        this.elements = {\n            root,\n            iframe: root.querySelector('iframe')\n        };\n    }\n    // TODO: добавить типы\n    redirectWithPayload(payload) {\n        location.assign(getRedirectWithPayloadUrl(payload, Widget.__config));\n    }\n}\n_ts_decorate([\n    validator({\n        container: [\n            isRequired\n        ]\n    })\n], Widget.prototype, \"render\", null);\n\nexport { Widget };\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}