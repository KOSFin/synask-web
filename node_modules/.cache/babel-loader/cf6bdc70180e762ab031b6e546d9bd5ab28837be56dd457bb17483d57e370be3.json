{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\player\\\\Documents\\\\GitHub\\\\synask-app\\\\src\\\\pages\\\\settings\\\\ProfileSettings.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { createClient } from '@supabase/supabase-js';\nimport './ProfileSettings.css';\nimport p from './ProfilePreview.module.css';\nimport load from '../Loader.module.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst supabase = createClient('https://cnicyffiqvdhgyzkogtl.supabase.co', 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImNuaWN5ZmZpcXZkaGd5emtvZ3RsIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MDc3NDM2NzcsImV4cCI6MjAyMzMxOTY3N30.bZoapdV-TJiq42uJaOPGBfPz91ULReQ1_ahXpUHNaJ8');\nconst ProfileSettings = () => {\n  _s();\n  const [subSection, setSubSection] = useState('about');\n  const [profile, setProfile] = useState(null);\n  const [editedProfile, setEditedProfile] = useState(null);\n  const [tags, setTags] = useState([]);\n  const [usernameAvailable, setUsernameAvailable] = useState(true);\n  const [isSaving, setIsSaving] = useState(false);\n  const [loading, setLoading] = useState(true);\n  const [showSaved, setShowSaved] = useState(true);\n  const [notification, setNotification] = useState('');\n  useEffect(() => {\n    const fetchProfile = async () => {\n      try {\n        const {\n          data: userData,\n          error: userError\n        } = await supabase.auth.getUser();\n        if (userError || !userData) {\n          console.log('No active session found.');\n          window.location.href = '/login';\n          return;\n        }\n        let query = supabase.from('users_public_information').select('id, username, first_name, last_name, avatar_url, cover_url, status, tags').eq('auth_id', userData.user.id).single();\n        const {\n          data,\n          error\n        } = await query;\n        if (error) {\n          throw error;\n        }\n        setProfile(data);\n        setEditedProfile(data);\n        setTags(JSON.parse(data.tags || '[]'));\n      } catch (error) {\n        console.error('Error fetching user information:', error.message);\n      } finally {\n        setLoading(false);\n      }\n    };\n    fetchProfile();\n  }, []);\n  useEffect(() => {\n    setUsernameAvailable('check');\n    const timer = setTimeout(() => {\n      if (editedProfile && editedProfile.username !== profile.username) {\n        checkUsernameAvailability(editedProfile.username);\n      } else if (editedProfile) {\n        setUsernameAvailable(null);\n      }\n    }, 3000);\n    return () => clearTimeout(timer);\n  }, [editedProfile === null || editedProfile === void 0 ? void 0 : editedProfile.username]);\n  const renderStatus = status => {\n    if (status === 'online') {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: p.statusIndicator,\n        \"data-status\": status,\n        style: {\n          backgroundColor: 'green'\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 20\n      }, this);\n    } else if (status === 'offline') {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: p.statusIndicator,\n        \"data-status\": status,\n        style: {\n          backgroundColor: 'gray'\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 20\n      }, this);\n    } else if (status) {\n      const [symbol, userStatus] = status.split(':');\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: p.customStatusIndicator,\n        \"data-status\": userStatus,\n        children: symbol\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 17\n      }, this);\n    } else {\n      return;\n    }\n  };\n  const checkUsernameAvailability = async username => {\n    const {\n      data,\n      error\n    } = await supabase.from('users_public_information').select('id').eq('username', username).single();\n    setUsernameAvailable(!data);\n  };\n  const handleChange = (field, value) => {\n    setEditedProfile({\n      ...editedProfile,\n      [field]: value\n    });\n  };\n  const handleTagInput = event => {\n    if (event.key === 'Enter' && event.target.value.trim() && tags.length < 5) {\n      const newTag = event.target.value.trim();\n      if (newTag.length <= 15 && tags.join('').length + newTag.length <= 60) {\n        setTags([...tags, newTag]);\n        event.target.value = '';\n      }\n    }\n  };\n  const removeTag = tagToRemove => {\n    setTags(tags.filter(tag => tag !== tagToRemove));\n  };\n  const handleSave = async () => {\n    setIsSaving(true);\n    setNotification('');\n    const updatedProfile = {\n      ...editedProfile,\n      tags: JSON.stringify(tags)\n    };\n    const {\n      data: userData,\n      error: userError\n    } = await supabase.auth.getUser();\n    if (userError || !userData) {\n      console.log('No active session found.');\n      window.location.href = '/login';\n      return;\n    }\n    const {\n      data,\n      error\n    } = await supabase.from('users_public_information').update(updatedProfile).eq('auth_id', userData.user.id);\n    if (error) {\n      setNotification('Ошибка сохранения данных в базу данных');\n      console.error('Error updating profile:', error.message);\n      return;\n    }\n    const {\n      dataUpdate,\n      errorUpdate\n    } = await supabase.auth.updateUser({\n      data: {\n        firstName: updatedProfile.first_name,\n        lastName: updatedProfile.last_name,\n        nickname: updatedProfile.username\n      }\n    });\n    if (errorUpdate) {\n      setNotification('Ошибка сохранения данных для пользователя');\n      console.error('Error updating profile:', error.message);\n    } else {\n      setProfile(updatedProfile);\n      setEditedProfile(updatedProfile);\n      setNotification('Данные успешно сохранены');\n      window.dispatchEvent(new Event('profileUpdated')); // Custom event for updating dependent components\n    }\n    setIsSaving(false);\n  };\n  const renderSubSection = () => {\n    switch (subSection) {\n      case 'about':\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"\\u041E \\u0441\\u0435\\u0431\\u0435\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 167,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"setting-item\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"\\u0421\\u0442\\u0430\\u0442\\u0443\\u0441:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 169,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              value: (editedProfile === null || editedProfile === void 0 ? void 0 : editedProfile.status) || '',\n              onChange: e => handleChange('status', e.target.value),\n              className: profile.status !== editedProfile.status ? 'changed' : '',\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"online\",\n                children: \"\\u041E\\u043D\\u043B\\u0430\\u0439\\u043D\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 175,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"offline\",\n                children: \"\\u041E\\u0444\\u043B\\u0430\\u0439\\u043D\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 176,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"custom\",\n                children: \"\\u041F\\u043E\\u043B\\u044C\\u0437\\u043E\\u0432\\u0430\\u0442\\u0435\\u043B\\u044C\\u0441\\u043A\\u0438\\u0439 \\u0441\\u0442\\u0430\\u0442\\u0443\\u0441\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 177,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 170,\n              columnNumber: 29\n            }, this), (editedProfile === null || editedProfile === void 0 ? void 0 : editedProfile.status) === 'custom' && /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              value: (editedProfile === null || editedProfile === void 0 ? void 0 : editedProfile.custom_status) || '',\n              onChange: e => handleChange('status', e.target.value),\n              placeholder: \"\\u0412\\u0432\\u0435\\u0434\\u0438\\u0442\\u0435 \\u0441\\u0432\\u043E\\u0439 \\u0441\\u0442\\u0430\\u0442\\u0443\\u0441\",\n              className: \"custom-status-input\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 180,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 168,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"setting-item\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"\\u0410\\u0432\\u0430\\u0442\\u0430\\u0440:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 190,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"url\",\n              value: (editedProfile === null || editedProfile === void 0 ? void 0 : editedProfile.avatar_url) || '',\n              onChange: e => handleChange('avatar_url', e.target.value),\n              placeholder: \"\\u0412\\u0432\\u0435\\u0434\\u0438\\u0442\\u0435 URL \\u0430\\u0432\\u0430\\u0442\\u0430\\u0440\\u0430\",\n              className: profile.avatar_url !== editedProfile.avatar_url ? 'changed' : ''\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 191,\n              columnNumber: 29\n            }, this), (editedProfile === null || editedProfile === void 0 ? void 0 : editedProfile.avatar_url) && /*#__PURE__*/_jsxDEV(\"div\", {\n              children: /*#__PURE__*/_jsxDEV(\"img\", {\n                src: editedProfile.avatar_url,\n                alt: \"Avatar Preview\",\n                onError: e => e.target.src = 'error_search-image.png',\n                onClick: () => alert('Не удалось получить изображение'),\n                style: {\n                  cursor: 'pointer',\n                  width: '50px',\n                  height: '50px'\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 200,\n                columnNumber: 37\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 199,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 189,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"setting-item\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"\\u041E\\u0431\\u043B\\u043E\\u0436\\u043A\\u0430:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 211,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"url\",\n              value: (editedProfile === null || editedProfile === void 0 ? void 0 : editedProfile.cover_url) || '',\n              onChange: e => handleChange('cover_url', e.target.value),\n              placeholder: \"\\u0412\\u0432\\u0435\\u0434\\u0438\\u0442\\u0435 URL \\u043E\\u0431\\u043B\\u043E\\u0436\\u043A\\u0438\",\n              className: profile.cover_url !== editedProfile.cover_url ? 'changed' : ''\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 212,\n              columnNumber: 29\n            }, this), (editedProfile === null || editedProfile === void 0 ? void 0 : editedProfile.cover_url) && /*#__PURE__*/_jsxDEV(\"div\", {\n              children: /*#__PURE__*/_jsxDEV(\"img\", {\n                src: editedProfile.cover_url,\n                alt: \"Cover Preview\",\n                onError: e => e.target.src = 'error_search-image.png',\n                onClick: () => alert('Не удалось получить изображение'),\n                style: {\n                  cursor: 'pointer',\n                  width: '50px',\n                  height: '50px'\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 221,\n                columnNumber: 37\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 220,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 210,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"setting-item\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"\\u0418\\u043C\\u044F:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 232,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              value: (editedProfile === null || editedProfile === void 0 ? void 0 : editedProfile.first_name) || '',\n              onChange: e => handleChange('first_name', e.target.value),\n              className: profile.first_name !== editedProfile.first_name ? 'changed' : ''\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 233,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 231,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"setting-item\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"\\u0424\\u0430\\u043C\\u0438\\u043B\\u0438\\u044F:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 241,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              value: (editedProfile === null || editedProfile === void 0 ? void 0 : editedProfile.last_name) || '',\n              onChange: e => handleChange('last_name', e.target.value),\n              className: profile.last_name !== editedProfile.last_name ? 'changed' : ''\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 242,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 240,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"setting-item\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"Username:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 250,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              value: (editedProfile === null || editedProfile === void 0 ? void 0 : editedProfile.username) || '',\n              onChange: e => handleChange('username', e.target.value),\n              className: usernameAvailable === false ? 'error' : profile.username !== editedProfile.username ? 'changed' : ''\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 251,\n              columnNumber: 29\n            }, this), profile.username === editedProfile.username && /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"saved-username\",\n              children: \"\\u042D\\u0442\\u043E\\u0442 \\u043D\\u0438\\u043A \\u0443\\u0436\\u0435 \\u0441\\u0442\\u043E\\u0438\\u0442 \\u0443 \\u043F\\u043E\\u043B\\u044C\\u0437\\u043E\\u0432\\u0430\\u0442\\u0435\\u043B\\u044F\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 258,\n              columnNumber: 33\n            }, this), usernameAvailable === 'check' && /*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"\\u041F\\u0440\\u043E\\u0432\\u0435\\u0440\\u043A\\u0430...\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 260,\n              columnNumber: 63\n            }, this), usernameAvailable === true && /*#__PURE__*/_jsxDEV(\"span\", {\n              style: {\n                color: 'green'\n              },\n              children: \"\\u042D\\u0442\\u043E\\u0442 \\u043D\\u0438\\u043A \\u0441\\u0432\\u043E\\u0431\\u043E\\u0434\\u0435\\u043D\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 261,\n              columnNumber: 60\n            }, this), usernameAvailable === false && /*#__PURE__*/_jsxDEV(\"span\", {\n              style: {\n                color: 'red'\n              },\n              children: \"\\u042D\\u0442\\u043E\\u0442 \\u043D\\u0438\\u043A \\u0437\\u0430\\u043D\\u044F\\u0442\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 262,\n              columnNumber: 61\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 249,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"setting-item\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"\\u0422\\u0435\\u0433\\u0438:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 265,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              placeholder: \"\\u0412\\u0432\\u0435\\u0434\\u0438\\u0442\\u0435 \\u0442\\u0435\\u0433 \\u0438 \\u043D\\u0430\\u0436\\u043C\\u0438\\u0442\\u0435 Enter\",\n              onKeyUp: handleTagInput\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 266,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"tags\",\n              children: tags.map(tag => /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"tag\",\n                children: [tag, /*#__PURE__*/_jsxDEV(\"span\", {\n                  onClick: () => removeTag(tag),\n                  children: \"x\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 275,\n                  columnNumber: 41\n                }, this)]\n              }, tag, true, {\n                fileName: _jsxFileName,\n                lineNumber: 273,\n                columnNumber: 37\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 271,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 264,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"setting-item\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: \"\\u041E \\u0441\\u0435\\u0431\\u0435:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 281,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n              placeholder: \"\\u041D\\u0430\\u043F\\u0438\\u0448\\u0438\\u0442\\u0435 \\u043E \\u0441\\u0435\\u0431\\u0435\",\n              value: (editedProfile === null || editedProfile === void 0 ? void 0 : editedProfile.about) || '',\n              onChange: e => handleChange('about', e.target.value),\n              className: profile.about !== editedProfile.about ? 'changed' : ''\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 282,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 280,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 166,\n          columnNumber: 21\n        }, this);\n      case 'media':\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"\\u041C\\u0435\\u0434\\u0438\\u0430\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 294,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"media-actions\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              children: \"\\u0414\\u043E\\u0431\\u0430\\u0432\\u0438\\u0442\\u044C \\u0444\\u043E\\u0442\\u043E/\\u0432\\u0438\\u0434\\u0435\\u043E\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 296,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              children: \"\\u0412\\u044B\\u0434\\u0435\\u043B\\u0438\\u0442\\u044C\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 297,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              placeholder: \"\\u041F\\u043E\\u0438\\u0441\\u043A \\u043F\\u043E \\u043E\\u043F\\u0438\\u0441\\u0430\\u043D\\u0438\\u044E\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 298,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 295,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"media-gallery\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 301,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 293,\n          columnNumber: 21\n        }, this);\n      case 'music':\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"\\u041C\\u0443\\u0437\\u044B\\u043A\\u0430\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 309,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"music-actions\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              children: \"\\u0414\\u043E\\u0431\\u0430\\u0432\\u0438\\u0442\\u044C \\u0442\\u0440\\u0435\\u043A\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 311,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              placeholder: \"\\u041F\\u043E\\u0438\\u0441\\u043A \\u043F\\u043E \\u043D\\u0430\\u0437\\u0432\\u0430\\u043D\\u0438\\u044E \\u0438\\u043B\\u0438 \\u0430\\u0440\\u0442\\u0438\\u0441\\u0442\\u0443\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 312,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 310,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"music-list\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 316,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 308,\n          columnNumber: 21\n        }, this);\n      case 'verification':\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"\\u0412\\u0435\\u0440\\u0438\\u0444\\u0438\\u043A\\u0430\\u0446\\u0438\\u044F\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 324,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"verification-service\",\n            children: [/*#__PURE__*/_jsxDEV(\"img\", {\n              src: \"https://cubiq.ru/wp-content/uploads/2020/09/twitchprime.jpg\",\n              className: \"service-icon\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 326,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"service-info\",\n              children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                children: \"\\u041D\\u0438\\u043A\\u043D\\u0435\\u0439\\u043C: user123\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 328,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: \"\\u0424\\u043E\\u043B\\u043E\\u0432\\u0435\\u0440\\u044B: 12,000\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 329,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: \"\\u0422\\u0440\\u0435\\u0431\\u043E\\u0432\\u0430\\u043D\\u0438\\u044F:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 330,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n                children: [/*#__PURE__*/_jsxDEV(\"li\", {\n                  children: [\"10,000 \\u0444\\u043E\\u043B\\u043E\\u0432\\u0435\\u0440\\u043E\\u0432 \", /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: \"\\u2714\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 332,\n                    columnNumber: 58\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 332,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                  children: [\"\\u0421\\u0442\\u0440\\u0438\\u043C\\u044B \\u043A\\u0430\\u0436\\u0434\\u0443\\u044E \\u043D\\u0435\\u0434\\u0435\\u043B\\u044E \", /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: \"\\u2714\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 333,\n                    columnNumber: 62\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 333,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                  children: [\"\\u041F\\u0440\\u0438\\u0435\\u043C\\u043B\\u0435\\u043C\\u043E\\u0435 \\u043A\\u043E\\u043B\\u0438\\u0447\\u0435\\u0441\\u0442\\u0432\\u043E \\u043F\\u0440\\u043E\\u0441\\u043C\\u043E\\u0442\\u0440\\u043E\\u0432 \", /*#__PURE__*/_jsxDEV(\"span\", {\n                    children: \"\\u2714\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 334,\n                    columnNumber: 74\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 334,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 331,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [\"\\u0412\\u044B \\u043C\\u0435\\u0434\\u0438\\u0439\\u043D\\u0430\\u044F \\u043B\\u0438\\u0447\\u043D\\u043E\\u0441\\u0442\\u044C \", /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \"\\u2714\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 336,\n                  columnNumber: 57\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 336,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 327,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 325,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            children: \"\\u041F\\u043E\\u0434\\u043A\\u043B\\u044E\\u0447\\u0438\\u0442\\u044C \\u043D\\u043E\\u0432\\u044B\\u0439 \\u0441\\u0435\\u0440\\u0432\\u0438\\u0441\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 339,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 323,\n          columnNumber: 21\n        }, this);\n      default:\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          children: \"\\u041E \\u0441\\u0435\\u0431\\u0435\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 343,\n          columnNumber: 24\n        }, this);\n    }\n  };\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: load.spinner,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 350,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 351,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 352,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 349,\n      columnNumber: 13\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"\\u041C\\u043E\\u0439 \\u043F\\u0440\\u043E\\u0444\\u0438\\u043B\\u044C\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 359,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n      children: \"\\u041F\\u0440\\u0435\\u0434\\u043F\\u0440\\u043E\\u0441\\u043C\\u043E\\u0442\\u0440:\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 360,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"profile-preview\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: p.container,\n        children: (showSaved ? profile : editedProfile) && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: p.profileBlock,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: p.profileHeader,\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: p.profileCover,\n              children: /*#__PURE__*/_jsxDEV(\"img\", {\n                id: \"profile-cover\",\n                src: profile.cover_url,\n                alt: \"Cover Photo\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 367,\n                columnNumber: 37\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 366,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: p.profileAvatar,\n              children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                id: \"profile-avatar\",\n                src: profile.avatar_url,\n                alt: \"User Photo\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 370,\n                columnNumber: 37\n              }, this), renderStatus(profile.status)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 369,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: p.profileInfo,\n              children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n                className: p.profileNames,\n                children: `${profile.first_name} ${profile.last_name}`\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 374,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: p.profileTags,\n                children: tags.map(tag => /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: p.tag,\n                  children: tag\n                }, tag, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 375,\n                  columnNumber: 85\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 375,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 373,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 365,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: p.profileMenu,\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: p.menuItem,\n              children: \"About\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 379,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: p.menuItem,\n              children: \"Events\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 380,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: p.menuItem,\n              children: \"Media\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 381,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: p.menuItem,\n              children: \"Friends\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 382,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: p.menuItem,\n              children: \"Groups\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 383,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: p.menuItem,\n              children: \"Settings\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 384,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 378,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: p.profileContent\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 386,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 364,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 362,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 361,\n      columnNumber: 13\n    }, this), JSON.stringify(profile) !== JSON.stringify(editedProfile) && !showSaved && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"profile-buttons\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setShowSaved(!showSaved),\n        children: showSaved ? 'Показать изменённую версию' : 'Показать сохранённую версию'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 393,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleSave,\n        disabled: isSaving || usernameAvailable === false || usernameAvailable === 'check',\n        children: \"\\u0421\\u043E\\u0445\\u0440\\u0430\\u043D\\u0438\\u0442\\u044C \\u0438\\u0437\\u043C\\u0435\\u043D\\u0435\\u043D\\u0438\\u044F\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 396,\n        columnNumber: 21\n      }, this), notification && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"notification\",\n        children: notification\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 397,\n        columnNumber: 38\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 392,\n      columnNumber: 17\n    }, this), JSON.stringify(profile) !== JSON.stringify(editedProfile) && showSaved && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"profile-buttons\",\n      children: /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setShowSaved(!showSaved),\n        children: showSaved ? 'Показать изменённую версию' : 'Показать сохранённую версию'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 402,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 401,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"profile-submenu\",\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        className: subSection === 'about' ? 'active' : '',\n        onClick: () => setSubSection('about'),\n        children: \"\\u041E \\u0441\\u0435\\u0431\\u0435\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 408,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: subSection === 'media' ? 'active' : '',\n        onClick: () => setSubSection('media'),\n        children: \"\\u041C\\u0435\\u0434\\u0438\\u0430\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 409,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: subSection === 'music' ? 'active' : '',\n        onClick: () => setSubSection('music'),\n        children: \"\\u041C\\u0443\\u0437\\u044B\\u043A\\u0430\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 410,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: subSection === 'verification' ? 'active' : '',\n        onClick: () => setSubSection('verification'),\n        children: \"\\u0412\\u0435\\u0440\\u0438\\u0444\\u0438\\u043A\\u0430\\u0446\\u0438\\u044F\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 411,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 407,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"profile-settings-content\",\n      children: renderSubSection()\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 413,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 358,\n    columnNumber: 9\n  }, this);\n};\n_s(ProfileSettings, \"uP9T4syAog6xKMBVBU3WkwrC/7I=\");\n_c = ProfileSettings;\nexport default ProfileSettings;\nvar _c;\n$RefreshReg$(_c, \"ProfileSettings\");","map":{"version":3,"names":["React","useState","useEffect","createClient","p","load","jsxDEV","_jsxDEV","supabase","ProfileSettings","_s","subSection","setSubSection","profile","setProfile","editedProfile","setEditedProfile","tags","setTags","usernameAvailable","setUsernameAvailable","isSaving","setIsSaving","loading","setLoading","showSaved","setShowSaved","notification","setNotification","fetchProfile","data","userData","error","userError","auth","getUser","console","log","window","location","href","query","from","select","eq","user","id","single","JSON","parse","message","timer","setTimeout","username","checkUsernameAvailability","clearTimeout","renderStatus","status","className","statusIndicator","style","backgroundColor","fileName","_jsxFileName","lineNumber","columnNumber","symbol","userStatus","split","customStatusIndicator","children","handleChange","field","value","handleTagInput","event","key","target","trim","length","newTag","join","removeTag","tagToRemove","filter","tag","handleSave","updatedProfile","stringify","update","dataUpdate","errorUpdate","updateUser","firstName","first_name","lastName","last_name","nickname","dispatchEvent","Event","renderSubSection","onChange","e","type","custom_status","placeholder","avatar_url","src","alt","onError","onClick","alert","cursor","width","height","cover_url","color","onKeyUp","map","about","spinner","container","profileBlock","profileHeader","profileCover","profileAvatar","profileInfo","profileNames","profileTags","profileMenu","menuItem","profileContent","disabled","_c","$RefreshReg$"],"sources":["C:/Users/player/Documents/GitHub/synask-app/src/pages/settings/ProfileSettings.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { createClient } from '@supabase/supabase-js';\r\nimport './ProfileSettings.css';\r\nimport p from './ProfilePreview.module.css';\r\nimport load from '../Loader.module.css';\r\n\r\nconst supabase = createClient('https://cnicyffiqvdhgyzkogtl.supabase.co', 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImNuaWN5ZmZpcXZkaGd5emtvZ3RsIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MDc3NDM2NzcsImV4cCI6MjAyMzMxOTY3N30.bZoapdV-TJiq42uJaOPGBfPz91ULReQ1_ahXpUHNaJ8');\r\n\r\nconst ProfileSettings = () => {\r\n    const [subSection, setSubSection] = useState('about');\r\n    const [profile, setProfile] = useState(null);\r\n    const [editedProfile, setEditedProfile] = useState(null);\r\n    const [tags, setTags] = useState([]);\r\n    const [usernameAvailable, setUsernameAvailable] = useState(true);\r\n    const [isSaving, setIsSaving] = useState(false);\r\n    const [loading, setLoading] = useState(true);\r\n    const [showSaved, setShowSaved] = useState(true);\r\n    const [notification, setNotification] = useState('');\r\n\r\n    useEffect(() => {\r\n        const fetchProfile = async () => {\r\n            try {\r\n                const { data: userData, error: userError } = await supabase.auth.getUser();\r\n                if (userError || !userData) {\r\n                    console.log('No active session found.');\r\n                    window.location.href = '/login';\r\n                    return;\r\n                }\r\n\r\n                let query = supabase\r\n                    .from('users_public_information')\r\n                    .select('id, username, first_name, last_name, avatar_url, cover_url, status, tags')\r\n                    .eq('auth_id', userData.user.id)\r\n                    .single();\r\n\r\n                const { data, error } = await query;\r\n                if (error) {\r\n                    throw error;\r\n                }\r\n\r\n                setProfile(data);\r\n                setEditedProfile(data);\r\n                setTags(JSON.parse(data.tags || '[]'));\r\n            } catch (error) {\r\n                console.error('Error fetching user information:', error.message);\r\n            } finally {\r\n                setLoading(false);\r\n            }\r\n        };\r\n\r\n        fetchProfile();\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        setUsernameAvailable('check');\r\n        const timer = setTimeout(() => {\r\n            if (editedProfile && editedProfile.username !== profile.username) {\r\n                checkUsernameAvailability(editedProfile.username);\r\n            } else if (editedProfile) {\r\n                setUsernameAvailable(null);\r\n            }\r\n        }, 3000);\r\n\r\n        return () => clearTimeout(timer);\r\n    }, [editedProfile?.username]);\r\n\r\n    const renderStatus = (status) => {\r\n        if (status === 'online') {\r\n            return <div className={p.statusIndicator} data-status={status} style={{ backgroundColor: 'green' }} />;\r\n        } else if (status === 'offline') {\r\n            return <div className={p.statusIndicator} data-status={status} style={{ backgroundColor: 'gray' }} />;\r\n        } else if (status) {\r\n            const [symbol, userStatus] = status.split(':');\r\n            return (\r\n                <div className={p.customStatusIndicator} data-status={userStatus}>\r\n                    {symbol}\r\n                </div>\r\n            );\r\n        } else {\r\n            return;\r\n        }\r\n    };\r\n\r\n    const checkUsernameAvailability = async (username) => {\r\n        const { data, error } = await supabase\r\n            .from('users_public_information')\r\n            .select('id')\r\n            .eq('username', username)\r\n            .single();\r\n\r\n        setUsernameAvailable(!data);\r\n    };\r\n\r\n    const handleChange = (field, value) => {\r\n        setEditedProfile({\r\n            ...editedProfile,\r\n            [field]: value,\r\n        });\r\n    };\r\n\r\n    const handleTagInput = (event) => {\r\n        if (event.key === 'Enter' && event.target.value.trim() && tags.length < 5) {\r\n            const newTag = event.target.value.trim();\r\n            if (newTag.length <= 15 && tags.join('').length + newTag.length <= 60) {\r\n                setTags([...tags, newTag]);\r\n                event.target.value = '';\r\n            }\r\n        }\r\n    };\r\n\r\n    const removeTag = (tagToRemove) => {\r\n        setTags(tags.filter(tag => tag !== tagToRemove));\r\n    };\r\n\r\n    const handleSave = async () => {\r\n        setIsSaving(true);\r\n        setNotification('');\r\n        const updatedProfile = {\r\n            ...editedProfile,\r\n            tags: JSON.stringify(tags),\r\n        };\r\n\r\n        const { data: userData, error: userError } = await supabase.auth.getUser();\r\n        if (userError || !userData) {\r\n            console.log('No active session found.');\r\n            window.location.href = '/login';\r\n            return;\r\n        }\r\n\r\n        const { data, error } = await supabase\r\n            .from('users_public_information')\r\n            .update(updatedProfile)\r\n            .eq('auth_id', userData.user.id);\r\n\r\n        if (error) {\r\n            setNotification('Ошибка сохранения данных в базу данных');\r\n            console.error('Error updating profile:', error.message);\r\n            return;\r\n        }\r\n\r\n        const { dataUpdate, errorUpdate} = await supabase.auth.updateUser({\r\n            data: {\r\n                firstName: updatedProfile.first_name,\r\n                lastName: updatedProfile.last_name,\r\n                nickname: updatedProfile.username,\r\n            }\r\n        })\r\n\r\n        if (errorUpdate) {\r\n            setNotification('Ошибка сохранения данных для пользователя');\r\n            console.error('Error updating profile:', error.message);\r\n        } else {\r\n            setProfile(updatedProfile);\r\n            setEditedProfile(updatedProfile);\r\n            setNotification('Данные успешно сохранены');\r\n            window.dispatchEvent(new Event('profileUpdated')); // Custom event for updating dependent components\r\n        }\r\n\r\n        setIsSaving(false);\r\n    };\r\n\r\n    const renderSubSection = () => {\r\n        switch (subSection) {\r\n            case 'about':\r\n                return (\r\n                    <div>\r\n                        <h3>О себе</h3>\r\n                        <div className=\"setting-item\">\r\n                            <label>Статус:</label>\r\n                            <select\r\n                                value={editedProfile?.status || ''}\r\n                                onChange={(e) => handleChange('status', e.target.value)}\r\n                                className={profile.status !== editedProfile.status ? 'changed' : ''}\r\n                            >\r\n                                <option value=\"online\">Онлайн</option>\r\n                                <option value=\"offline\">Офлайн</option>\r\n                                <option value=\"custom\">Пользовательский статус</option>\r\n                            </select>\r\n                            {editedProfile?.status === 'custom' && (\r\n                                <input\r\n                                    type=\"text\"\r\n                                    value={editedProfile?.custom_status || ''}\r\n                                    onChange={(e) => handleChange('status', e.target.value)}\r\n                                    placeholder=\"Введите свой статус\"\r\n                                    className=\"custom-status-input\"\r\n                                />\r\n                            )}\r\n                        </div>\r\n                        <div className=\"setting-item\">\r\n                            <label>Аватар:</label>\r\n                            <input\r\n                                type=\"url\"\r\n                                value={editedProfile?.avatar_url || ''}\r\n                                onChange={(e) => handleChange('avatar_url', e.target.value)}\r\n                                placeholder=\"Введите URL аватара\"\r\n                                className={profile.avatar_url !== editedProfile.avatar_url ? 'changed' : ''}\r\n                            />\r\n                            {editedProfile?.avatar_url && (\r\n                                <div>\r\n                                    <img\r\n                                        src={editedProfile.avatar_url}\r\n                                        alt=\"Avatar Preview\"\r\n                                        onError={(e) => e.target.src = 'error_search-image.png'}\r\n                                        onClick={() => alert('Не удалось получить изображение')}\r\n                                        style={{ cursor: 'pointer', width: '50px', height: '50px' }}\r\n                                    />\r\n                                </div>\r\n                            )}\r\n                        </div>\r\n                        <div className=\"setting-item\">\r\n                            <label>Обложка:</label>\r\n                            <input\r\n                                type=\"url\"\r\n                                value={editedProfile?.cover_url || ''}\r\n                                onChange={(e) => handleChange('cover_url', e.target.value)}\r\n                                placeholder=\"Введите URL обложки\"\r\n                                className={profile.cover_url !== editedProfile.cover_url ? 'changed' : ''}\r\n                            />\r\n                            {editedProfile?.cover_url && (\r\n                                <div>\r\n                                    <img\r\n                                        src={editedProfile.cover_url}\r\n                                        alt=\"Cover Preview\"\r\n                                        onError={(e) => e.target.src = 'error_search-image.png'}\r\n                                        onClick={() => alert('Не удалось получить изображение')}\r\n                                        style={{ cursor: 'pointer', width: '50px', height: '50px' }}\r\n                                    />\r\n                                </div>\r\n                            )}\r\n                        </div>\r\n                        <div className=\"setting-item\">\r\n                            <label>Имя:</label>\r\n                            <input\r\n                                type=\"text\"\r\n                                value={editedProfile?.first_name || ''}\r\n                                onChange={(e) => handleChange('first_name', e.target.value)}\r\n                                className={profile.first_name !== editedProfile.first_name ? 'changed' : ''}\r\n                            />\r\n                        </div>\r\n                        <div className=\"setting-item\">\r\n                            <label>Фамилия:</label>\r\n                            <input\r\n                                type=\"text\"\r\n                                value={editedProfile?.last_name || ''}\r\n                                onChange={(e) => handleChange('last_name', e.target.value)}\r\n                                className={profile.last_name !== editedProfile.last_name ? 'changed' : ''}\r\n                            />\r\n                        </div>\r\n                        <div className=\"setting-item\">\r\n                            <label>Username:</label>\r\n                            <input\r\n                                type=\"text\"\r\n                                value={editedProfile?.username || ''}\r\n                                onChange={(e) => handleChange('username', e.target.value)}\r\n                                className={usernameAvailable === false ? 'error' : (profile.username !== editedProfile.username ? 'changed' : '')}\r\n                            />\r\n                            {profile.username === editedProfile.username && (\r\n                                <div className=\"saved-username\">Этот ник уже стоит у пользователя</div>\r\n                            )}\r\n                            {usernameAvailable === 'check' && <span>Проверка...</span>}\r\n                            {usernameAvailable === true && <span style={{ color: 'green' }}>Этот ник свободен</span>}\r\n                            {usernameAvailable === false && <span style={{ color: 'red' }}>Этот ник занят</span>}\r\n                        </div>\r\n                        <div className=\"setting-item\">\r\n                            <label>Теги:</label>\r\n                            <input\r\n                                type=\"text\"\r\n                                placeholder=\"Введите тег и нажмите Enter\"\r\n                                onKeyUp={handleTagInput}\r\n                            />\r\n                            <div className=\"tags\">\r\n                                {tags.map(tag => (\r\n                                    <div key={tag} className=\"tag\">\r\n                                        {tag}\r\n                                        <span onClick={() => removeTag(tag)}>x</span>\r\n                                    </div>\r\n                                ))}\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"setting-item\">\r\n                            <label>О себе:</label>\r\n                            <textarea\r\n                                placeholder=\"Напишите о себе\"\r\n                                value={editedProfile?.about || ''}\r\n                                onChange={(e) => handleChange('about', e.target.value)}\r\n                                className={profile.about !== editedProfile.about ? 'changed' : ''}\r\n                            />\r\n                        </div>\r\n                    </div>\r\n                );\r\n            case 'media':\r\n                return (\r\n                    <div>\r\n                        <h3>Медиа</h3>\r\n                        <div className=\"media-actions\">\r\n                            <button>Добавить фото/видео</button>\r\n                            <button>Выделить</button>\r\n                            <input type=\"text\" placeholder=\"Поиск по описанию\" />\r\n                            {/* другие действия */}\r\n                        </div>\r\n                        <div className=\"media-gallery\">\r\n                            {/* Галерея фото/видео */}\r\n                        </div>\r\n                    </div>\r\n                );\r\n            case 'music':\r\n                return (\r\n                    <div>\r\n                        <h3>Музыка</h3>\r\n                        <div className=\"music-actions\">\r\n                            <button>Добавить трек</button>\r\n                            <input type=\"text\" placeholder=\"Поиск по названию или артисту\"\r\n                            />\r\n                            {/* другие действия */}\r\n                        </div>\r\n                        <div className=\"music-list\">\r\n                            {/* Список треков */}\r\n                        </div>\r\n                    </div>\r\n                );\r\n            case 'verification':\r\n                return (\r\n                    <div>\r\n                        <h3>Верификация</h3>\r\n                        <div className=\"verification-service\">\r\n                            <img src=\"https://cubiq.ru/wp-content/uploads/2020/09/twitchprime.jpg\" className=\"service-icon\" />\r\n                            <div className=\"service-info\">\r\n                                <p>Никнейм: user123</p>\r\n                                <p>Фоловеры: 12,000</p>\r\n                                <p>Требования:</p>\r\n                                <ul>\r\n                                    <li>10,000 фоловеров <span>✔</span></li>\r\n                                    <li>Стримы каждую неделю <span>✔</span></li>\r\n                                    <li>Приемлемое количество просмотров <span>✔</span></li>\r\n                                </ul>\r\n                                <p>Вы медийная личность <span>✔</span></p>\r\n                            </div>\r\n                        </div>\r\n                        <button>Подключить новый сервис</button>\r\n                    </div>\r\n                );\r\n            default:\r\n                return <div>О себе</div>;\r\n        }\r\n    };\r\n\r\n    if (loading) {\r\n        return (\r\n            <div className={load.spinner}>\r\n                <div></div>\r\n                <div></div>\r\n                <div></div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <h2>Мой профиль</h2>\r\n            <label>Предпросмотр:</label>\r\n            <div className=\"profile-preview\">\r\n                <div className={p.container}>\r\n                    {(showSaved ? profile : editedProfile) && (\r\n                        <div className={p.profileBlock}>\r\n                            <div className={p.profileHeader}>\r\n                                <div className={p.profileCover}>\r\n                                    <img id=\"profile-cover\" src={profile.cover_url} alt=\"Cover Photo\" />\r\n                                </div>\r\n                                <div className={p.profileAvatar}>\r\n                                    <img id=\"profile-avatar\" src={profile.avatar_url} alt=\"User Photo\" />\r\n                                    {renderStatus(profile.status)}\r\n                                </div>\r\n                                <div className={p.profileInfo}>\r\n                                    <h2 className={p.profileNames}>{`${profile.first_name} ${profile.last_name}`}</h2>\r\n                                    <div className={p.profileTags}>{tags.map(tag => <span key={tag} className={p.tag}>{tag}</span>)}</div>\r\n                                </div>\r\n                            </div>\r\n                            <div className={p.profileMenu}>\r\n                                <div className={p.menuItem}>About</div>\r\n                                <div className={p.menuItem}>Events</div>\r\n                                <div className={p.menuItem}>Media</div>\r\n                                <div className={p.menuItem}>Friends</div>\r\n                                <div className={p.menuItem}>Groups</div>\r\n                                <div className={p.menuItem}>Settings</div>\r\n                            </div>\r\n                            <div className={p.profileContent}></div>\r\n                        </div>\r\n                    )}\r\n                </div>\r\n            </div>\r\n            {JSON.stringify(profile) !== JSON.stringify(editedProfile) && !showSaved && (\r\n                <div className=\"profile-buttons\">\r\n                    <button onClick={() => setShowSaved(!showSaved)}>\r\n                        {showSaved ? 'Показать изменённую версию' : 'Показать сохранённую версию'}\r\n                    </button>\r\n                    <button onClick={handleSave} disabled={isSaving || usernameAvailable === false || usernameAvailable === 'check'}>Сохранить изменения</button>\r\n                    {notification && <div className=\"notification\">{notification}</div>}\r\n                </div>\r\n            )}\r\n            {JSON.stringify(profile) !== JSON.stringify(editedProfile) && showSaved && (\r\n                <div className=\"profile-buttons\">\r\n                    <button onClick={() => setShowSaved(!showSaved)}>\r\n                        {showSaved ? 'Показать изменённую версию' : 'Показать сохранённую версию'}\r\n                    </button>\r\n                </div>\r\n            )}\r\n            <div className=\"profile-submenu\">\r\n                <span className={subSection === 'about' ? 'active' : ''} onClick={() => setSubSection('about')}>О себе</span>\r\n                <span className={subSection === 'media' ? 'active' : ''} onClick={() => setSubSection('media')}>Медиа</span>\r\n                <span className={subSection === 'music' ? 'active' : ''} onClick={() => setSubSection('music')}>Музыка</span>\r\n                <span className={subSection === 'verification' ? 'active' : ''} onClick={() => setSubSection('verification')}>Верификация</span>\r\n            </div>\r\n            <div className=\"profile-settings-content\">\r\n                {renderSubSection()}\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default ProfileSettings;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}