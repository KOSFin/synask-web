{"ast":null,"code":"import { RegistrationStatsCollector } from '../../../core/analytics/RegistrationStatsCollector.js';\nimport { ProductionStatsEventScreen } from '../../../core/analytics/types.js';\nimport { ProductionStatsCollector } from '../../../core/analytics/ProductionStatsCollector.js';\nimport { ActionStatsCollector } from '../../../core/analytics/ActionStatsCollector.js';\nimport { TEXT_TYPE } from './constants.js';\nclass FloatingOneTapStatsCollector {\n  registrationStatsCollector;\n  uniqueSessionId;\n  constructor(config) {\n    const productStatsCollector = new ProductionStatsCollector(config);\n    const actionStatsCollector = new ActionStatsCollector(productStatsCollector);\n    this.registrationStatsCollector = new RegistrationStatsCollector(actionStatsCollector);\n  }\n  setUniqueSessionId(id) {\n    this.uniqueSessionId = id;\n  }\n  getFields() {\n    const fields = [{\n      name: 'sdk_type',\n      value: 'vkid'\n    }];\n    if (this.uniqueSessionId) {\n      fields.push({\n        name: 'unique_session_id',\n        value: this.uniqueSessionId\n      });\n    }\n    return fields;\n  }\n  sendScreenProcessed(params) {\n    void this.registrationStatsCollector.logEvent(ProductionStatsEventScreen.NOWHERE, {\n      event_type: 'screen_proceed',\n      screen_to: ProductionStatsEventScreen.FLOATING_ONE_TAP,\n      fields: [...this.getFields(), {\n        name: 'theme_type',\n        value: params.scheme\n      }, {\n        name: 'language',\n        value: params.lang.toString()\n      }, {\n        name: 'text_type',\n        value: TEXT_TYPE[params.contentId]\n      }]\n    });\n  }\n  sendIframeLoadingFailed() {\n    void this.registrationStatsCollector.logEvent(ProductionStatsEventScreen.FLOATING_ONE_TAP, {\n      event_type: 'iframe_loading_failed',\n      fields: this.getFields()\n    });\n  }\n  sendNoUserButtonShow() {\n    void this.registrationStatsCollector.logEvent(ProductionStatsEventScreen.FLOATING_ONE_TAP, {\n      event_type: 'no_user_button_show',\n      fields: this.getFields()\n    });\n  }\n  sendNoUserButtonTap() {\n    return this.registrationStatsCollector.logEvent(ProductionStatsEventScreen.FLOATING_ONE_TAP, {\n      event_type: 'no_user_button_tap',\n      fields: this.getFields()\n    });\n  }\n}\nexport { FloatingOneTapStatsCollector };","map":{"version":3,"names":["RegistrationStatsCollector","ProductionStatsEventScreen","ProductionStatsCollector","ActionStatsCollector","TEXT_TYPE","FloatingOneTapStatsCollector","registrationStatsCollector","uniqueSessionId","constructor","config","productStatsCollector","actionStatsCollector","setUniqueSessionId","id","getFields","fields","name","value","push","sendScreenProcessed","params","logEvent","NOWHERE","event_type","screen_to","FLOATING_ONE_TAP","scheme","lang","toString","contentId","sendIframeLoadingFailed","sendNoUserButtonShow","sendNoUserButtonTap"],"sources":["C:/Users/player/Documents/GitHub/synask-app/node_modules/@vkid/sdk/dist-sdk/esm/widgets/floatingOneTap/analytics/FloatingOneTapStatsCollector.js"],"sourcesContent":["import { RegistrationStatsCollector } from '../../../core/analytics/RegistrationStatsCollector.js';\nimport { ProductionStatsEventScreen } from '../../../core/analytics/types.js';\nimport { ProductionStatsCollector } from '../../../core/analytics/ProductionStatsCollector.js';\nimport { ActionStatsCollector } from '../../../core/analytics/ActionStatsCollector.js';\nimport { TEXT_TYPE } from './constants.js';\n\nclass FloatingOneTapStatsCollector {\n    registrationStatsCollector;\n    uniqueSessionId;\n    constructor(config){\n        const productStatsCollector = new ProductionStatsCollector(config);\n        const actionStatsCollector = new ActionStatsCollector(productStatsCollector);\n        this.registrationStatsCollector = new RegistrationStatsCollector(actionStatsCollector);\n    }\n    setUniqueSessionId(id) {\n        this.uniqueSessionId = id;\n    }\n    getFields() {\n        const fields = [\n            {\n                name: 'sdk_type',\n                value: 'vkid'\n            }\n        ];\n        if (this.uniqueSessionId) {\n            fields.push({\n                name: 'unique_session_id',\n                value: this.uniqueSessionId\n            });\n        }\n        return fields;\n    }\n    sendScreenProcessed(params) {\n        void this.registrationStatsCollector.logEvent(ProductionStatsEventScreen.NOWHERE, {\n            event_type: 'screen_proceed',\n            screen_to: ProductionStatsEventScreen.FLOATING_ONE_TAP,\n            fields: [\n                ...this.getFields(),\n                {\n                    name: 'theme_type',\n                    value: params.scheme\n                },\n                {\n                    name: 'language',\n                    value: params.lang.toString()\n                },\n                {\n                    name: 'text_type',\n                    value: TEXT_TYPE[params.contentId]\n                }\n            ]\n        });\n    }\n    sendIframeLoadingFailed() {\n        void this.registrationStatsCollector.logEvent(ProductionStatsEventScreen.FLOATING_ONE_TAP, {\n            event_type: 'iframe_loading_failed',\n            fields: this.getFields()\n        });\n    }\n    sendNoUserButtonShow() {\n        void this.registrationStatsCollector.logEvent(ProductionStatsEventScreen.FLOATING_ONE_TAP, {\n            event_type: 'no_user_button_show',\n            fields: this.getFields()\n        });\n    }\n    sendNoUserButtonTap() {\n        return this.registrationStatsCollector.logEvent(ProductionStatsEventScreen.FLOATING_ONE_TAP, {\n            event_type: 'no_user_button_tap',\n            fields: this.getFields()\n        });\n    }\n}\n\nexport { FloatingOneTapStatsCollector };\n"],"mappings":"AAAA,SAASA,0BAA0B,QAAQ,uDAAuD;AAClG,SAASC,0BAA0B,QAAQ,kCAAkC;AAC7E,SAASC,wBAAwB,QAAQ,qDAAqD;AAC9F,SAASC,oBAAoB,QAAQ,iDAAiD;AACtF,SAASC,SAAS,QAAQ,gBAAgB;AAE1C,MAAMC,4BAA4B,CAAC;EAC/BC,0BAA0B;EAC1BC,eAAe;EACfC,WAAWA,CAACC,MAAM,EAAC;IACf,MAAMC,qBAAqB,GAAG,IAAIR,wBAAwB,CAACO,MAAM,CAAC;IAClE,MAAME,oBAAoB,GAAG,IAAIR,oBAAoB,CAACO,qBAAqB,CAAC;IAC5E,IAAI,CAACJ,0BAA0B,GAAG,IAAIN,0BAA0B,CAACW,oBAAoB,CAAC;EAC1F;EACAC,kBAAkBA,CAACC,EAAE,EAAE;IACnB,IAAI,CAACN,eAAe,GAAGM,EAAE;EAC7B;EACAC,SAASA,CAAA,EAAG;IACR,MAAMC,MAAM,GAAG,CACX;MACIC,IAAI,EAAE,UAAU;MAChBC,KAAK,EAAE;IACX,CAAC,CACJ;IACD,IAAI,IAAI,CAACV,eAAe,EAAE;MACtBQ,MAAM,CAACG,IAAI,CAAC;QACRF,IAAI,EAAE,mBAAmB;QACzBC,KAAK,EAAE,IAAI,CAACV;MAChB,CAAC,CAAC;IACN;IACA,OAAOQ,MAAM;EACjB;EACAI,mBAAmBA,CAACC,MAAM,EAAE;IACxB,KAAK,IAAI,CAACd,0BAA0B,CAACe,QAAQ,CAACpB,0BAA0B,CAACqB,OAAO,EAAE;MAC9EC,UAAU,EAAE,gBAAgB;MAC5BC,SAAS,EAAEvB,0BAA0B,CAACwB,gBAAgB;MACtDV,MAAM,EAAE,CACJ,GAAG,IAAI,CAACD,SAAS,CAAC,CAAC,EACnB;QACIE,IAAI,EAAE,YAAY;QAClBC,KAAK,EAAEG,MAAM,CAACM;MAClB,CAAC,EACD;QACIV,IAAI,EAAE,UAAU;QAChBC,KAAK,EAAEG,MAAM,CAACO,IAAI,CAACC,QAAQ,CAAC;MAChC,CAAC,EACD;QACIZ,IAAI,EAAE,WAAW;QACjBC,KAAK,EAAEb,SAAS,CAACgB,MAAM,CAACS,SAAS;MACrC,CAAC;IAET,CAAC,CAAC;EACN;EACAC,uBAAuBA,CAAA,EAAG;IACtB,KAAK,IAAI,CAACxB,0BAA0B,CAACe,QAAQ,CAACpB,0BAA0B,CAACwB,gBAAgB,EAAE;MACvFF,UAAU,EAAE,uBAAuB;MACnCR,MAAM,EAAE,IAAI,CAACD,SAAS,CAAC;IAC3B,CAAC,CAAC;EACN;EACAiB,oBAAoBA,CAAA,EAAG;IACnB,KAAK,IAAI,CAACzB,0BAA0B,CAACe,QAAQ,CAACpB,0BAA0B,CAACwB,gBAAgB,EAAE;MACvFF,UAAU,EAAE,qBAAqB;MACjCR,MAAM,EAAE,IAAI,CAACD,SAAS,CAAC;IAC3B,CAAC,CAAC;EACN;EACAkB,mBAAmBA,CAAA,EAAG;IAClB,OAAO,IAAI,CAAC1B,0BAA0B,CAACe,QAAQ,CAACpB,0BAA0B,CAACwB,gBAAgB,EAAE;MACzFF,UAAU,EAAE,oBAAoB;MAChCR,MAAM,EAAE,IAAI,CAACD,SAAS,CAAC;IAC3B,CAAC,CAAC;EACN;AACJ;AAEA,SAAST,4BAA4B","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}