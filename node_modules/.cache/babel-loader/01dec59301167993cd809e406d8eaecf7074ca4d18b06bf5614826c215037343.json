{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\player\\\\Documents\\\\GitHub\\\\synask-app\\\\src\\\\pages\\\\UserProfilePage.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState, useContext } from 'react';\nimport { Link, useLocation, useParams } from 'react-router-dom';\nimport { supabase } from './config/SupabaseClient';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faPhone, faBuilding, faGraduationCap, faEdit, faStar, faEnvelope, faUserPlus, faShare, faChevronDown, faInfoCircle, faImages, faLink } from '@fortawesome/free-solid-svg-icons';\nimport p from './Profile.module.css';\nimport AccentColorContext from '../pages/settings/AccentColorContext';\nimport load from './Loader.module.css';\nimport NotFoundPage from './NotFoundPage';\nimport UserContext from '../components/UserContext';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst UserProfilePage = () => {\n  _s();\n  const location = useLocation();\n  const {\n    username\n  } = useParams();\n  const [profile, setProfile] = useState(null);\n  const [currentUser, setCurrentUser] = useState(null);\n  const [tags, setTags] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const {\n    accentColor\n  } = useContext(AccentColorContext);\n  const [activeSection, setActiveSection] = useState('description');\n  const {\n    userData\n  } = useContext(UserContext);\n  const [contacts, setContacts] = useState([]);\n  useEffect(() => {\n    if (userData) {\n      console.log('значение записано');\n      setCurrentUser(userData);\n    } else {\n      console.log('no');\n    }\n  }, [userData]);\n  useEffect(() => {\n    const fetchUserProfile = async () => {\n      console.log(userData);\n      setCurrentUser(userData);\n      const {\n        data,\n        error\n      } = await supabase.from('users_public_information').select('*').eq('username', username).single();\n      if (error) {\n        console.error('Error fetching user information:', error.message);\n      } else {\n        setTags(JSON.parse(data.tags || '[]'));\n        setProfile(data);\n        console.log(userData);\n        setContacts(userData.contacts || []);\n      }\n      setLoading(false);\n    };\n    fetchUserProfile();\n  }, [username, userData]);\n  let isOwner = currentUser && profile && currentUser.auth_id === profile.auth_id;\n  let isInContacts = contacts.includes(profile === null || profile === void 0 ? void 0 : profile.auth_id);\n  const handleAddContact = async () => {\n    let updatedContacts;\n    if (isInContacts) {\n      updatedContacts = contacts.filter(id => id !== profile.auth_id);\n    } else {\n      updatedContacts = [...contacts, profile.auth_id];\n    }\n    setContacts(updatedContacts);\n\n    // Обновление контактов на сервере\n    const {\n      error\n    } = await supabase.from('users_private_information').update({\n      contacts: updatedContacts\n    }).eq('auth_id', currentUser.auth_id);\n    if (error) {\n      console.error('Error updating contacts:', error.message);\n    } else {\n      console.log('Contacts updated successfully');\n    }\n  };\n  const renderStatus = status => {\n    if (status === 'online') {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: p.statusIndicator,\n        \"data-status\": status,\n        style: {\n          backgroundColor: 'green'\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 20\n      }, this);\n    } else if (status === 'offline') {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: p.statusIndicator,\n        \"data-status\": status,\n        style: {\n          backgroundColor: 'gray'\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 20\n      }, this);\n    } else if (status) {\n      const [symbol, userStatus] = status.split(':');\n      if (userStatus && symbol.length < 4) {\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: p.customStatusIndicator,\n          \"data-status\": userStatus,\n          children: symbol\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 21\n        }, this);\n      }\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: p.customStatusIndicator,\n        \"data-status\": status,\n        children: \"\\uD83D\\uDCAC\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 17\n      }, this);\n    } else {\n      return;\n    }\n  };\n  const renderSection = () => {\n    switch (activeSection) {\n      case 'description':\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          children: \"\\u041E\\u043F\\u0438\\u0441\\u0430\\u043D\\u0438\\u0435 \\u043F\\u0440\\u043E\\u0444\\u0438\\u043B\\u044F...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 24\n        }, this);\n      case 'media':\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          children: \"\\u041C\\u0435\\u0434\\u0438\\u0430 \\u043A\\u043E\\u043D\\u0442\\u0435\\u043D\\u0442...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 24\n        }, this);\n      case 'links':\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          children: \"\\u0421\\u0441\\u044B\\u043B\\u043A\\u0438...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 24\n        }, this);\n      default:\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          children: \"\\u041E\\u043F\\u0438\\u0441\\u0430\\u043D\\u0438\\u0435 \\u043F\\u0440\\u043E\\u0444\\u0438\\u043B\\u044F...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 24\n        }, this);\n    }\n  };\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: load.spinner,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 126,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 13\n    }, this);\n  }\n  if (!profile) {\n    return /*#__PURE__*/_jsxDEV(NotFoundPage, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 16\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: p.container,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: p.profileBlock,\n      style: {\n        borderColor: accentColor\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: p.profileHeader,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: p.profileCover,\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            id: \"profile-cover\",\n            src: profile.cover_url,\n            alt: \"Cover Photo\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 141,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 140,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: p.profileAvatar,\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            id: \"profile-avatar\",\n            src: profile.avatar_url,\n            alt: \"User Photo\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 144,\n            columnNumber: 25\n          }, this), renderStatus(profile.status)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 143,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: p.profileTags,\n          children: tags.map(tag => /*#__PURE__*/_jsxDEV(\"span\", {\n            className: p.tag,\n            children: tag\n          }, tag, false, {\n            fileName: _jsxFileName,\n            lineNumber: 148,\n            columnNumber: 42\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 147,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: p.profileInfo,\n        style: {\n          borderColor: accentColor\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: p.profileNames,\n          children: `${profile.first_name} ${profile.last_name}`\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 152,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: p.profileUsername,\n          children: [\"@\", profile.username]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 153,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: p.userAchievements,\n          children: [/*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n            icon: faStar,\n            title: \"\\u041F\\u043E\\u0434\\u0442\\u0432\\u0435\\u0440\\u0436\\u0434\\u0451\\u043D\\u043D\\u044B\\u0439 \\u0430\\u043A\\u043A\\u0430\\u0443\\u043D\\u0442\",\n            style: {\n              color: 'gold'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 155,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n            icon: faStar,\n            title: \"\\u0417\\u043D\\u0430\\u0447\\u043E\\u043A \\u0442\\u0432\\u0438\\u0447\\u0430\",\n            style: {\n              color: 'purple'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 156,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n            icon: faStar,\n            title: \"\\u0417\\u043D\\u0430\\u0447\\u043E\\u043A \\u0442\\u0435\\u0441\\u0442\\u0438\\u0440\\u043E\\u0432\\u0449\\u0438\\u043A\\u0430\",\n            style: {\n              color: 'green'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 157,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n            icon: faStar,\n            title: \"\\u0417\\u043D\\u0430\\u0447\\u043E\\u043A \\u043E\\u043B\\u0434\\u0430\",\n            style: {\n              color: 'blue'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 158,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 154,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 151,\n        columnNumber: 17\n      }, this), isOwner ? /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: p.userActionsBar,\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: p.ActionsButtons,\n            children: [/*#__PURE__*/_jsxDEV(Link, {\n              to: '/options',\n              className: p.userActionsBtn,\n              children: [/*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n                icon: faEdit,\n                className: p.actionIcon\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 166,\n                columnNumber: 37\n              }, this), \" \\u0420\\u0435\\u0434\\u0430\\u043A\\u0442\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 165,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: p.userActionsBtn,\n              children: [/*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n                icon: faStar,\n                className: p.actionIcon\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 169,\n                columnNumber: 37\n              }, this), \" \\u0418\\u0437\\u0431\\u0440\\u0430\\u043D\\u043D\\u044B\\u0439 \\u0447\\u0430\\u0442\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 168,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 164,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 163,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 21\n      }, this) : currentUser ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: p.userActionsBar,\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: p.ActionsButtons,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: p.userActionsBtn,\n            children: [/*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n              icon: faEnvelope,\n              className: p.actionIcon\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 179,\n              columnNumber: 37\n            }, this), \" \\u0421\\u043E\\u043E\\u0431\\u0449\\u0435\\u043D\\u0438\\u0435\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 178,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: p.userActionsBtn,\n            onClick: handleAddContact,\n            style: {\n              backgroundColor: isInContacts ? 'rgba(206, 1, 252, 0.3)' : 'rgba(255, 255, 255, 0.2)'\n            },\n            title: isInContacts ? ' Удалить Контакт' : ' Добавить Контакт',\n            children: [/*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n              icon: faUserPlus,\n              className: p.actionIcon\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 189,\n              columnNumber: 35\n            }, this), isInContacts ? ' В контактах' : ' Добавить контакт']\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 181,\n            columnNumber: 33\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: p.moreOptionsBtn,\n            children: [/*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n              icon: faChevronDown,\n              className: p.actionIcon\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 193,\n              columnNumber: 37\n            }, this), \" \\u0415\\u0449\\u0451\", /*#__PURE__*/_jsxDEV(\"div\", {\n              className: p.moreOptionsMenu,\n              children: /*#__PURE__*/_jsxDEV(\"a\", {\n                href: \"#\",\n                children: [/*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n                  icon: faShare,\n                  className: p.actionIcon\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 196,\n                  columnNumber: 45\n                }, this), \" \\u041F\\u043E\\u0434\\u0435\\u043B\\u0438\\u0442\\u044C\\u0441\\u044F \\u043F\\u0440\\u043E\\u0444\\u0438\\u043B\\u0435\\u043C\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 195,\n                columnNumber: 41\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 194,\n              columnNumber: 37\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 192,\n            columnNumber: 33\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 177,\n          columnNumber: 29\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 25\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: p.guestView,\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"\\u0412\\u044B \\u043D\\u0435 \\u0432\\u043E\\u0448\\u043B\\u0438 \\u0432 \\u0441\\u0438\\u0441\\u0442\\u0435\\u043C\\u0443. \\u0421\\u0442\\u0440\\u0430\\u043D\\u0438\\u0446\\u0430 \\u043E\\u0442\\u043A\\u0440\\u044B\\u0442\\u0430 \\u0432 \\u0413\\u043E\\u0441\\u0442\\u0435\\u0432\\u043E\\u043C \\u0440\\u0435\\u0436\\u0438\\u043C\\u0435.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 204,\n          columnNumber: 29\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 203,\n        columnNumber: 25\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: p.contactInfo,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [profile.display_email && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: p.contactItem,\n            children: [/*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n              icon: faEnvelope\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 212,\n              columnNumber: 33\n            }, this), \" \", profile.display_email]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 211,\n            columnNumber: 29\n          }, this), profile.display_phone && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: p.contactItem,\n            children: [/*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n              icon: faPhone\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 217,\n              columnNumber: 33\n            }, this), \" \", profile.display_phone]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 216,\n            columnNumber: 29\n          }, this), profile.work_info && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: p.contactItem,\n            children: [/*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n              icon: faBuilding\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 222,\n              columnNumber: 33\n            }, this), \" \", profile.work_info]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 221,\n            columnNumber: 29\n          }, this), profile.education_info && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: p.contactItem,\n            children: [/*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n              icon: faGraduationCap\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 227,\n              columnNumber: 33\n            }, this), \" \", profile.education_info]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 226,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 209,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: p.userStats,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: p.statItem,\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: p.statNumber,\n              children: profile.followers_count > 999 ? `>${(profile.followers_count / 1000).toFixed(1)}к` : profile.followers_count\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 233,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: p.statLabel,\n              children: \"\\u043F\\u043E\\u0434\\u043F\\u0438\\u0441\\u0447\\u0438\\u043A\\u043E\\u0432\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 234,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 232,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: p.statItem,\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: p.statNumber,\n              children: profile.mutual_contacts_count > 999 ? `>${(profile.mutual_contacts_count / 1000).toFixed(1)}к` : profile.mutual_contacts_count\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 237,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: p.statLabel,\n              children: \"\\u0432\\u0437\\u0430\\u0438\\u043C\\u043D\\u044B\\u0445 \\u043A\\u043E\\u043D\\u0442\\u0430\\u043A\\u0442\\u043E\\u0432\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 238,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 236,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 231,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 208,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: p.profileMenu,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: `${p.menuItems} ${activeSection === 'description' ? p.active : ''}`,\n          onClick: () => setActiveSection('description'),\n          children: [/*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n            icon: faInfoCircle\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 244,\n            columnNumber: 25\n          }, this), \" \\u041E\\u043F\\u0438\\u0441\\u0430\\u043D\\u0438\\u0435\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 243,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `${p.menuItems} ${activeSection === 'media' ? p.active : ''}`,\n          onClick: () => setActiveSection('media'),\n          children: [/*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n            icon: faImages\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 247,\n            columnNumber: 25\n          }, this), \" \\u041C\\u0435\\u0434\\u0438\\u0430\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 246,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `${p.menuItems} ${activeSection === 'links' ? p.active : ''}`,\n          onClick: () => setActiveSection('links'),\n          children: [/*#__PURE__*/_jsxDEV(FontAwesomeIcon, {\n            icon: faLink\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 250,\n            columnNumber: 25\n          }, this), \" \\u0421\\u0441\\u044B\\u043B\\u043A\\u0438\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 249,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 242,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: p.profileContent,\n        children: renderSection()\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 253,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 138,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 137,\n    columnNumber: 9\n  }, this);\n};\n_s(UserProfilePage, \"t9haOQqD149WzM3lsVF4TfozK7Q=\", false, function () {\n  return [useLocation, useParams];\n});\n_c = UserProfilePage;\nexport default UserProfilePage;\nvar _c;\n$RefreshReg$(_c, \"UserProfilePage\");","map":{"version":3,"names":["React","useEffect","useState","useContext","Link","useLocation","useParams","supabase","FontAwesomeIcon","faPhone","faBuilding","faGraduationCap","faEdit","faStar","faEnvelope","faUserPlus","faShare","faChevronDown","faInfoCircle","faImages","faLink","p","AccentColorContext","load","NotFoundPage","UserContext","jsxDEV","_jsxDEV","UserProfilePage","_s","location","username","profile","setProfile","currentUser","setCurrentUser","tags","setTags","loading","setLoading","accentColor","activeSection","setActiveSection","userData","contacts","setContacts","console","log","fetchUserProfile","data","error","from","select","eq","single","message","JSON","parse","isOwner","auth_id","isInContacts","includes","handleAddContact","updatedContacts","filter","id","update","renderStatus","status","className","statusIndicator","style","backgroundColor","fileName","_jsxFileName","lineNumber","columnNumber","symbol","userStatus","split","length","customStatusIndicator","children","renderSection","spinner","container","profileBlock","borderColor","profileHeader","profileCover","src","cover_url","alt","profileAvatar","avatar_url","profileTags","map","tag","profileInfo","profileNames","first_name","last_name","profileUsername","userAchievements","icon","title","color","userActionsBar","ActionsButtons","to","userActionsBtn","actionIcon","onClick","moreOptionsBtn","moreOptionsMenu","href","guestView","contactInfo","display_email","contactItem","display_phone","work_info","education_info","userStats","statItem","statNumber","followers_count","toFixed","statLabel","mutual_contacts_count","profileMenu","menuItems","active","profileContent","_c","$RefreshReg$"],"sources":["C:/Users/player/Documents/GitHub/synask-app/src/pages/UserProfilePage.js"],"sourcesContent":["import React, { useEffect, useState, useContext } from 'react';\r\nimport { Link, useLocation, useParams } from 'react-router-dom';\r\nimport { supabase } from './config/SupabaseClient';\r\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\r\nimport { faPhone, faBuilding, faGraduationCap, faEdit, faStar, faEnvelope, faUserPlus, faShare, faChevronDown, faInfoCircle, faImages, faLink } from '@fortawesome/free-solid-svg-icons';\r\nimport p from './Profile.module.css';\r\nimport AccentColorContext from '../pages/settings/AccentColorContext';\r\nimport load from './Loader.module.css';\r\nimport NotFoundPage from './NotFoundPage';\r\nimport UserContext from '../components/UserContext';\r\n\r\nconst UserProfilePage = () => {\r\n    const location = useLocation();\r\n    const { username } = useParams();\r\n    const [profile, setProfile] = useState(null);\r\n    const [currentUser, setCurrentUser] = useState(null);\r\n    const [tags, setTags] = useState([]);\r\n    const [loading, setLoading] = useState(true);\r\n    const { accentColor } = useContext(AccentColorContext);\r\n    const [activeSection, setActiveSection] = useState('description');\r\n    const { userData } = useContext(UserContext);\r\n    const [contacts, setContacts] = useState([]);\r\n\r\n    useEffect(() => {\r\n        if (userData) {\r\n            console.log('значение записано');\r\n            setCurrentUser(userData);\r\n        } else {\r\n            console.log('no');\r\n        }\r\n    }, [userData]);\r\n\r\n    useEffect(() => {\r\n        const fetchUserProfile = async () => {\r\n            console.log(userData);\r\n            setCurrentUser(userData);\r\n\r\n            const { data, error } = await supabase\r\n                .from('users_public_information')\r\n                .select('*')\r\n                .eq('username', username)\r\n                .single();\r\n\r\n            if (error) {\r\n                console.error('Error fetching user information:', error.message);\r\n            } else {\r\n                setTags(JSON.parse(data.tags || '[]'));\r\n                setProfile(data);\r\n                console.log(userData);\r\n                setContacts(userData.contacts || []);\r\n            }\r\n\r\n            setLoading(false);\r\n        };\r\n\r\n        fetchUserProfile();\r\n    }, [username, userData]);\r\n\r\n    let isOwner = currentUser && profile && currentUser.auth_id === profile.auth_id;\r\n    let isInContacts = contacts.includes(profile?.auth_id);\r\n\r\n    const handleAddContact = async () => {\r\n        let updatedContacts;\r\n        if (isInContacts) {\r\n            updatedContacts = contacts.filter(id => id !== profile.auth_id);\r\n        } else {\r\n            updatedContacts = [...contacts, profile.auth_id];\r\n        }\r\n\r\n        setContacts(updatedContacts);\r\n\r\n        // Обновление контактов на сервере\r\n        const { error } = await supabase\r\n            .from('users_private_information')\r\n            .update({ contacts: updatedContacts })\r\n            .eq('auth_id', currentUser.auth_id);\r\n\r\n        if (error) {\r\n            console.error('Error updating contacts:', error.message);\r\n        } else {\r\n            console.log('Contacts updated successfully');\r\n        }\r\n    };\r\n\r\n    const renderStatus = (status) => {\r\n        if (status === 'online') {\r\n            return <div className={p.statusIndicator} data-status={status} style={{ backgroundColor: 'green' }} />;\r\n        } else if (status === 'offline') {\r\n            return <div className={p.statusIndicator} data-status={status} style={{ backgroundColor: 'gray' }} />;\r\n        } else if (status) {\r\n            const [symbol, userStatus] = status.split(':');\r\n            if (userStatus && symbol.length < 4) {\r\n                return (\r\n                    <div className={p.customStatusIndicator} data-status={userStatus}>\r\n                        {symbol}\r\n                    </div>\r\n                );\r\n            }\r\n            return (\r\n                <div className={p.customStatusIndicator} data-status={status}>\r\n                    💬\r\n                </div>\r\n            );\r\n        } else {\r\n            return;\r\n        }\r\n    };\r\n\r\n    const renderSection = () => {\r\n        switch (activeSection) {\r\n            case 'description':\r\n                return <div>Описание профиля...</div>;\r\n            case 'media':\r\n                return <div>Медиа контент...</div>;\r\n            case 'links':\r\n                return <div>Ссылки...</div>;\r\n            default:\r\n                return <div>Описание профиля...</div>;\r\n        }\r\n    };\r\n\r\n    if (loading) {\r\n        return (\r\n            <div className={load.spinner}>\r\n                <div></div>\r\n                <div></div>\r\n                <div></div>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    if (!profile) {\r\n        return <NotFoundPage />;\r\n    }\r\n\r\n    return (\r\n        <div className={p.container}>\r\n            <div className={p.profileBlock} style={{ borderColor: accentColor }}>\r\n                <div className={p.profileHeader}>\r\n                    <div className={p.profileCover}>\r\n                        <img id=\"profile-cover\" src={profile.cover_url} alt=\"Cover Photo\" />\r\n                    </div>\r\n                    <div className={p.profileAvatar}>\r\n                        <img id=\"profile-avatar\" src={profile.avatar_url} alt=\"User Photo\" />\r\n                        {renderStatus(profile.status)}\r\n                    </div>\r\n                    <div className={p.profileTags}>\r\n                        {tags.map(tag => <span key={tag} className={p.tag}>{tag}</span>)}\r\n                    </div>\r\n                </div>\r\n                <div className={p.profileInfo} style={{ borderColor: accentColor }}>\r\n                    <h2 className={p.profileNames}>{`${profile.first_name} ${profile.last_name}`}</h2>\r\n                    <div className={p.profileUsername}>@{profile.username}</div>\r\n                    <div className={p.userAchievements}>\r\n                        <FontAwesomeIcon icon={faStar} title=\"Подтверждённый аккаунт\" style={{ color: 'gold' }} />\r\n                        <FontAwesomeIcon icon={faStar} title=\"Значок твича\" style={{ color: 'purple' }} />\r\n                        <FontAwesomeIcon icon={faStar} title=\"Значок тестировщика\" style={{ color: 'green' }} />\r\n                        <FontAwesomeIcon icon={faStar} title=\"Значок олда\" style={{ color: 'blue' }} />\r\n                    </div>\r\n                </div>\r\n                {isOwner ? (\r\n                    <div>\r\n                        <div className={p.userActionsBar}>\r\n                            <div className={p.ActionsButtons}>\r\n                                <Link to={'/options'} className={p.userActionsBtn}>\r\n                                    <FontAwesomeIcon icon={faEdit} className={p.actionIcon} /> Редактировать\r\n                                </Link>\r\n                                <div className={p.userActionsBtn}>\r\n                                    <FontAwesomeIcon icon={faStar} className={p.actionIcon} /> Избранный чат\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                ) : (\r\n                    currentUser ? (\r\n                        <div className={p.userActionsBar}>\r\n                            <div className={p.ActionsButtons}>\r\n                                <div className={p.userActionsBtn}>\r\n                                    <FontAwesomeIcon icon={faEnvelope} className={p.actionIcon} /> Сообщение\r\n                                </div>\r\n                                <div\r\n                                  className={p.userActionsBtn}\r\n                                  onClick={handleAddContact}\r\n                                  style={{\r\n                                    backgroundColor: isInContacts ? 'rgba(206, 1, 252, 0.3)' : 'rgba(255, 255, 255, 0.2)',\r\n                                  }}\r\n                                  title={isInContacts ? ' Удалить Контакт' : ' Добавить Контакт'}\r\n                                >\r\n                                  <FontAwesomeIcon icon={faUserPlus} className={p.actionIcon} />\r\n                                  {isInContacts ? ' В контактах' : ' Добавить контакт'}\r\n                                </div>\r\n                                <div className={p.moreOptionsBtn}>\r\n                                    <FontAwesomeIcon icon={faChevronDown} className={p.actionIcon} /> Ещё\r\n                                    <div className={p.moreOptionsMenu}>\r\n                                        <a href=\"#\">\r\n                                            <FontAwesomeIcon icon={faShare} className={p.actionIcon} /> Поделиться профилем\r\n                                        </a>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    ) : (\r\n                        <div className={p.guestView}>\r\n                            <p>Вы не вошли в систему. Страница открыта в Гостевом режиме.</p>\r\n                        </div>\r\n                    )\r\n                )}\r\n                <div className={p.contactInfo}>\r\n                    <div>\r\n                        {profile.display_email && (\r\n                            <div className={p.contactItem}>\r\n                                <FontAwesomeIcon icon={faEnvelope} /> {profile.display_email}\r\n                            </div>\r\n                        )}\r\n                        {profile.display_phone && (\r\n                            <div className={p.contactItem}>\r\n                                <FontAwesomeIcon icon={faPhone} /> {profile.display_phone}\r\n                            </div>\r\n                        )}\r\n                        {profile.work_info && (\r\n                            <div className={p.contactItem}>\r\n                                <FontAwesomeIcon icon={faBuilding} /> {profile.work_info}\r\n                            </div>\r\n                        )}\r\n                        {profile.education_info && (\r\n                            <div className={p.contactItem}>\r\n                                <FontAwesomeIcon icon={faGraduationCap} /> {profile.education_info}\r\n                            </div>\r\n                        )}\r\n                    </div>\r\n                    <div className={p.userStats}>\r\n                        <div className={p.statItem}>\r\n                            <div className={p.statNumber}>{profile.followers_count > 999 ? `>${(profile.followers_count / 1000).toFixed(1)}к` : profile.followers_count}</div>\r\n                            <div className={p.statLabel}>подписчиков</div>\r\n                        </div>\r\n                        <div className={p.statItem}>\r\n                            <div className={p.statNumber}>{profile.mutual_contacts_count > 999 ? `>${(profile.mutual_contacts_count / 1000).toFixed(1)}к` : profile.mutual_contacts_count}</div>\r\n                            <div className={p.statLabel}>взаимных контактов</div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n                <div className={p.profileMenu}>\r\n                    <div className={`${p.menuItems} ${activeSection === 'description' ? p.active : ''}`} onClick={() => setActiveSection('description')}>\r\n                        <FontAwesomeIcon icon={faInfoCircle} /> Описание\r\n                    </div>\r\n                    <div className={`${p.menuItems} ${activeSection === 'media' ? p.active : ''}`} onClick={() => setActiveSection('media')}>\r\n                        <FontAwesomeIcon icon={faImages} /> Медиа\r\n                    </div>\r\n                    <div className={`${p.menuItems} ${activeSection === 'links' ? p.active : ''}`} onClick={() => setActiveSection('links')}>\r\n                        <FontAwesomeIcon icon={faLink} /> Ссылки\r\n                    </div>\r\n                </div>\r\n                <div className={p.profileContent}>\r\n                    {renderSection()}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default UserProfilePage;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}