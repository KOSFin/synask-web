{"ast":null,"code":"import React,{useState,useRef,useContext}from'react';import Sidebar from'./components/Sidebar';import ChatList from'./components/ChatList';import MessageList from'./components/MessageList';import InputArea from'./components/InputArea';import Filters from'./components/Filters';import styles from'./styles/Messenger.module.css';import ChatHeader from'./components/ChatHeader';import AccentColorContext from'../../pages/settings/AccentColorContext';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const Messenger=()=>{const[selectedChat,setSelectedChat]=useState(null);const[searchTerm,setSearchTerm]=useState('');const[chatListWidth,setChatListWidth]=useState(250);const resizerRef=useRef(null);const{accentColor}=useContext(AccentColorContext);const startResizing=e=>{resizerRef.current=e.clientX;document.addEventListener('mousemove',resizePanel);document.addEventListener('mouseup',stopResizing);document.body.style.cursor='col-resize';};const resizePanel=e=>{const newWidth=chatListWidth+(e.clientX-resizerRef.current);if(newWidth>50&&newWidth<500){setChatListWidth(newWidth);resizerRef.current=e.clientX;}};const stopResizing=()=>{document.removeEventListener('mousemove',resizePanel);document.removeEventListener('mouseup',stopResizing);document.body.style.cursor='default';};const closeChat=()=>{setSelectedChat(null);};return/*#__PURE__*/_jsx(\"div\",{className:styles.pageContainer,children:/*#__PURE__*/_jsxs(\"div\",{className:styles.container,style:{borderColor:accentColor},children:[/*#__PURE__*/_jsx(Filters,{}),/*#__PURE__*/_jsxs(\"div\",{className:styles.chatListContainer,style:{width:chatListWidth},children:[/*#__PURE__*/_jsx(Sidebar,{setSearchTerm:setSearchTerm}),/*#__PURE__*/_jsx(\"div\",{className:styles.closeButtonContainer,children:/*#__PURE__*/_jsx(\"button\",{className:styles.closeButton,onClick:closeChat,children:\"\\u2716 \\u0417\\u0430\\u043A\\u0440\\u044B\\u0442\\u044C \\u0434\\u0438\\u0430\\u043B\\u043E\\u0433\"})}),/*#__PURE__*/_jsx(ChatList,{setSelectedChat:setSelectedChat,searchTerm:searchTerm})]}),/*#__PURE__*/_jsx(\"div\",{className:styles.resizer,onMouseDown:startResizing}),/*#__PURE__*/_jsx(\"div\",{className:styles.main,children:selectedChat?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(ChatHeader,{selectedChat:selectedChat}),/*#__PURE__*/_jsx(MessageList,{selectedChat:selectedChat}),/*#__PURE__*/_jsx(InputArea,{})]}):/*#__PURE__*/_jsx(\"div\",{className:styles.noChatSelected,children:\"\\u0412\\u044B\\u0431\\u0435\\u0440\\u0438\\u0442\\u0435 \\u0447\\u0430\\u0442, \\u0447\\u0442\\u043E\\u0431\\u044B \\u043D\\u0430\\u0447\\u0430\\u0442\\u044C \\u043E\\u0431\\u0449\\u0435\\u043D\\u0438\\u0435\"})})]})});};export default Messenger;","map":{"version":3,"names":["React","useState","useRef","useContext","Sidebar","ChatList","MessageList","InputArea","Filters","styles","ChatHeader","AccentColorContext","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Messenger","selectedChat","setSelectedChat","searchTerm","setSearchTerm","chatListWidth","setChatListWidth","resizerRef","accentColor","startResizing","e","current","clientX","document","addEventListener","resizePanel","stopResizing","body","style","cursor","newWidth","removeEventListener","closeChat","className","pageContainer","children","container","borderColor","chatListContainer","width","closeButtonContainer","closeButton","onClick","resizer","onMouseDown","main","noChatSelected"],"sources":["C:/Users/player/Documents/GitHub/synask-app/src/pages/messenger/Messenger.js"],"sourcesContent":["import React, { useState, useRef, useContext } from 'react';\r\nimport Sidebar from './components/Sidebar';\r\nimport ChatList from './components/ChatList';\r\nimport MessageList from './components/MessageList';\r\nimport InputArea from './components/InputArea';\r\nimport Filters from './components/Filters';\r\nimport styles from './styles/Messenger.module.css';\r\nimport ChatHeader from './components/ChatHeader';\r\n\r\nimport AccentColorContext from '../../pages/settings/AccentColorContext';\r\n\r\nconst Messenger = () => {\r\n  const [selectedChat, setSelectedChat] = useState(null);\r\n  const [searchTerm, setSearchTerm] = useState('');\r\n  const [chatListWidth, setChatListWidth] = useState(250);\r\n  const resizerRef = useRef(null);\r\n  const { accentColor } = useContext(AccentColorContext);\r\n\r\n  const startResizing = (e) => {\r\n    resizerRef.current = e.clientX;\r\n    document.addEventListener('mousemove', resizePanel);\r\n    document.addEventListener('mouseup', stopResizing);\r\n    document.body.style.cursor = 'col-resize';\r\n  };\r\n\r\n  const resizePanel = (e) => {\r\n    const newWidth = chatListWidth + (e.clientX - resizerRef.current);\r\n    if (newWidth > 50 && newWidth < 500) {\r\n      setChatListWidth(newWidth);\r\n      resizerRef.current = e.clientX;\r\n    }\r\n  };\r\n\r\n  const stopResizing = () => {\r\n    document.removeEventListener('mousemove', resizePanel);\r\n    document.removeEventListener('mouseup', stopResizing);\r\n    document.body.style.cursor = 'default';\r\n  };\r\n\r\n  const closeChat = () => {\r\n    setSelectedChat(null);\r\n  };\r\n\r\n  return (\r\n    <div className={styles.pageContainer}>\r\n      <div className={styles.container} style={{ borderColor: accentColor }}>\r\n        <Filters />\r\n        <div className={styles.chatListContainer} style={{ width: chatListWidth }}>\r\n          <Sidebar setSearchTerm={setSearchTerm} />\r\n          <div className={styles.closeButtonContainer}>\r\n            <button className={styles.closeButton} onClick={closeChat}>\r\n              ✖ Закрыть диалог\r\n            </button>\r\n          </div>\r\n          <ChatList setSelectedChat={setSelectedChat} searchTerm={searchTerm} />\r\n        </div>\r\n        <div className={styles.resizer} onMouseDown={startResizing}></div>\r\n        <div className={styles.main}>\r\n          {selectedChat ? (\r\n            <>\r\n              <ChatHeader selectedChat={selectedChat} />\r\n              <MessageList selectedChat={selectedChat} />\r\n              <InputArea />\r\n            </>\r\n          ) : (\r\n            <div className={styles.noChatSelected}>Выберите чат, чтобы начать общение</div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Messenger;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}